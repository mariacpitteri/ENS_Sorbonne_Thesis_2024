<!doctype html>
    <html>
    <head>
        <title>Suspens</title>
        <script src="jatos.js"></script>
        <script src="jspsych/jspsych.js"></script>
        <script src="jspsych/plugin-html-keyboard-response.js"></script>
        <script src="jspsych/plugin-image-keyboard-response.js"></script>
        <script src="jspsych/plugin-survey-html-form.js"></script>
        <script src="jspsych/plugin-html-slider-response.js"></script>
        <script src="jspsych/plugin-video-keyboard-response.js"></script>
        <script src="jspsych/plugin-survey-multi-choice.js"></script>
        <script src="jspsych/plugin-survey-likert.js"></script>
        <script src="jspsych/plugin-external-html.js"></script>
        <script src="jspsych/plugin-call-function.js"></script>
        <script src="jspsych/plugin-fullscreenFR.js"></script>
        <script src="jspsych/plugin-html-button-response.js"></script>
        <script src="jspsych/plugin-preload.js"></script>
        <script src="designMatrix.js"></script>
        <script src="Instructions.js"></script>
        <script src="img"></script>
       <script src="consent-form-information.html"></script>
        <link href="style.css" rel="stylesheet" type="text/css"></link>
        <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css"></link>
    </head>

    <!-- now that the library, plug-in and css file are loaded, I need to produce some JavaScript to direct how the experiment is going to happen. -->
    <script>

        // Initialise JsPsych using "init" function and assign the output to the variable jsPsych.

        var jsPsych = initJsPsych({
            on_finish: () => jatos.endStudy(jsPsych.data.get().json())
        });


// ******************************************************
// ********** INITIALIZING VARIABLES *********************
// *******************************************************
      
        var timeline = [];

        
        var preload_images = {
        type: jsPsychPreload,
        images: images_Load,
        video: video_Load
        }



        
// ***********************************************************
// ********** STARTING STEPS *********************************
// ***********************************************************

        
        var fullscreen = {
            type: jsPsychFullscreen,
            message: "Appuyez sur continuer pour passer en mode plein-ecran.",
            fullscreen_mode: true,
            on_finish: function (data) {
                data.fullScreen = data.success;
                data.test_part = 'full_screen';
            }
        }

        /*var ethicsScreen = {
          type: jsPsychExternalHtml,
          url: "consent-form-information.html",
          cont_btn: "continue_btn",
        }*/


        var form_trial = {
            type: jsPsychSurveyHtmlForm,
            preamble: '<p> Quelques questions sur vous avant de commencer... </p>',
            html: '<p> Prolific ID <input name="id" type="text" /></p> Age <input name="age" type="number" /><br><br>  <input type="radio" name="genre" value="homme"> Homme<br> <input type="radio" name="genre" value="femme"> Femme<br> <input type="radio" name="genre" value="autre"> Autre<br><br> <br><br>',
            data: { test_part: 'form' },
            on_finish: function (data) {
                responses = data.response;
                uid = responses.id;
                // uidTmp = uidTmp.concat('_');
                // uidTmp = uidTmp.concat(Date.now());
                //uid = uidTmp;
                // try{
                //   var userData = db.collection("users").doc(uid).collection("taskData").doc("userData");
                // }
                // catch{
                //   document.write("Une erreur est survenu avec votre ID prolific id. Rafraîchissez la page et recommencez.");
                // }
                data.test_part = 'basicDemo';
                data.age = responses.age;
                data.gender = responses.genre;
                data.fullScreen = jsPsych.data.get().filter({ test_part: 'full_screen' }).select('fullScreen').values;
            },
        };


       
  
// ******************************************************
// ********** INITIAL EXPERIMENT VARIABLES **************
// ******************************************************

game_number = 35 //36 games (0 to 35)



//diplay round number

function createRoundDisplay(roundNumber) {
    return {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: function (data) {
            var gameIndex = shuffled_games[trialIdx];
            if (gameIndex >= 0 && gameIndex <= game_number) {
                return ['<div class="text-container2">Manche ' + roundNumber + '!' + '</div>'];
            }
        },
        choices: "NO_KEYS",
        trial_duration: 800
    };
}

var display_round_1 = createRoundDisplay(1);
var display_round_2 = createRoundDisplay(2);
var display_round_3 = createRoundDisplay(3);
var display_round_4 = createRoundDisplay(4);

var display_round_5 = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {
        var gameIndex = shuffled_games[trialIdx];
        if (gameIndex >= 0 && gameIndex <= game_number) {
            return ['<div class="text-container2">Dernière manche! ' + '</div>'];
        }
    },
    choices: "NO_KEYS",
     trial_duration: 1000
    };



//diplay initial count = 0

var display_count_0 = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {
        var gameIndex = shuffled_games[trialIdx];
        if (gameIndex >= 0 && gameIndex <= game_number) {
            
            return ['<div class="text-container2">Compte = 0 ' + '</div>'];
        }
    },
    choices: "NO_KEYS",
    trial_duration: 1000
};


//Display the correct deck according to game selected
//.join() method without any delimiter. Here's how you can modify the code to prevent commas from appearing


var display_deck = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {
        var gameIndex = shuffled_games[trialIdx];
        if (gameIndex >= 0 && gameIndex <= game_number) {
    
            var deck = '<div class="img3-container">' + selectImages(stimuli_cond1_swapped[gameIndex][1]).join('') +'</div>'
            var count = '<div class="text-container3">' + 'Compte = 0'+'</div>'

            return deck;
        }
    },
    choices: "NO_KEYS",
    trial_duration: 700
};


/*
//Display back of cards

  var display_cards_back= {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: back_card,
    choices: "NO_KEYS",
    trial_duration: 2000
};

*/


//Shuffle animation

var shuffle = {
    type: jsPsychVideoKeyboardResponse,
    stimulus: video_Load,
    choices: "NO_KEYS",
    trial_ends_after_video: true,
    width: 530,
    height: 270,
    rate: 1.5

};



// ******************************************************
// ********** FUNCTIONS FOR EXPERIMENT VARIABLES ********
// ******************************************************



//Create function to create pairs 1, 2, 3
function createPair(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {
    
    var display_pair = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: function (data) {
            
            var gameIndex = shuffled_games[trialIdx];
            var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
            var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
            } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
            }

            if (gameIndex >= 0 && gameIndex <= game_number) {
            
                var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

        
                console.log(current_pair_index)
                
              

                if (amount_calculation<3) {

                    var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';
                
                
                } else {
                
                    var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
                }
                
                console.log(amount)
                var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' ;
                var pairStimulus = '<div class="img-container2-wrapper">' + '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] +  '</div>' + '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] +  '</div>' +  '</div>';
                //var deck = '<div class="img4-container">' + selectImagesTiny(stimuli_cond1_swapped[gameIndex][1]).join('') +'</div>'
                return amount + images_circle + pairStimulus;

    
            }
        },
        choices: "NO_KEYS", //'b'
        trial_duration: 2000
    };

    return display_pair;
}


//Create conditional function to decide which pair and count card to display based on gameIndex
function displayPair(pair, n1, n2, n3, n4, n5, n6) {
    var display_pair = {
        timeline: [pair],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return display_pair;
}


//Create function to create pairs 1, 2, 3 but with keyboard action
function createPairWithKey(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {
    
    var display_pair = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: function (data) {
            
            var gameIndex = shuffled_games[trialIdx];
            var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
            var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
            } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
            }

            if (gameIndex >= 0 && gameIndex <= game_number) {
            
                var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

                console.log(current_pair_index)
                if (amount_calculation<3) {

                    var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


                    } else {

                    var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
                }
                console.log(amount)
                var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' ;
                var pairStimulus = '<div class="img-container2-wrapper">' + '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] +  '</div>' + '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] +  '</div>' +  '</div>' + "<br> Appuyez sur l'espace pour lancer la loterie.";
                return amount + images_circle + pairStimulus;

    
            }
        },
        choices: " ", //'b'

    };

    return display_pair;
}



//Create conditional function to decide which pair and count card to display based on gameIndex, with key press
function displayPairWithKey(pair, n1, n2, n3, n4, n5, n6) {
    var display_pair = {
        timeline: [pair],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return display_pair;
}



//Create function to create suspense slider
function createPairSuspSlider (pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = shuffled_games[trialIdx];
    
    if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
        var current_pair_index = pair_index + 1;
    } else if (pair_index == 4 || pair_index == 5) {
        var current_pair_index = pair_index;
    }



    var display_pair_susp = {
    type: jsPsychHtmlSliderResponse,
    stimulus: function (data) {
    
    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = shuffled_games[trialIdx];


        if (gameIndex >= 0 && gameIndex <= game_number) {
            var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];


            if (amount_calculation<3) {

                var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


                } else {

                var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
            }            
            
            var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' + '<br>' + '<br>'+ '<br>'
            var pairStimulus = '<div class="img-container2-wrapper">' + 
                    '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                    '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' +
                    '</div>' +'<div> <br> Quel est votre niveau de suspense? <br> </div>'; 
            return amount + images_circle + pairStimulus;
        }
    },
    labels: ['Aucun', 'Moyen', 'Élevé'],
    min: 0,
    max: 100,
    start: 50,
    require_movement: true,
    response_ends_trial: true,
    slider_width: 600,
    css_classes: ['sliderup'],

    on_finish: function (data) {
    data.test_part = 'susp_rating';
    data.trial = trialIdx;
    data.game = gameIndex
    data.pair_number = pair_index
    data.susp_response_time = data.rt;
    data.susp_deck = stimuli_cond1_swapped[gameIndex][0];
    data.susp_pair = stimuli_cond1_swapped[gameIndex][i]; //save pair real value  
    data.susp_pair_index = stimuli_cond1_swapped[gameIndex][i] //save pair index
    //data.count = amount    -> does not work
    }
    };

return display_pair_susp

}

//Create conditional function to display susp slider when appropriate depending on game index
function displayPairSuspSlider(suspSlider, n1, n2, n3, n4, n5, n6) {
    var display_pair = {
        timeline: [suspSlider],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return display_pair;
}



//Create function for the satisfaction version, so that subjects click on the greatest card

function clickCardHigh(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = shuffled_games[trialIdx];
    
    if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
        var current_pair_index = pair_index + 1;
    } else if (pair_index == 4 || pair_index == 5) {
       var current_pair_index = pair_index;
    }


var click_card_high = {
type: jsPsychHtmlButtonResponse,
stimulus: function (data) {

    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = shuffled_games[trialIdx];


    if (gameIndex >= 0 && gameIndex <= game_number) {
            var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

        
        if (amount_calculation<3) {

            var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


        } else {

            var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
        }            
        
        var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' + '<br>' 
        var pairStimulus =  '<div> <br> Quelle carte a la valeur la plus élevée? <br> <br> </div>' + '<div class="img-container2-wrapper">' + 
                    '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                    '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' + '</div>'
        return amount + images_circle + pairStimulus; // Concatenate both stimuli
    }
    },
    choices: ['<div class="text-container8">Carte 1 </div>', '<div class="text-container8">Carte 2 </div>', '<div class="text-container8">Aucune </div>'],
    margin_horizontal: '20px',
    margin_vertical: '15px',
    on_finish: function (data) {
    data.test_part = 'catch_click_high';
    data.trial = trialIdx;
    data.game = gameIndex
    data.pair_number = pair_index
    data.click_high_response_time = data.rt;
    data.click_high_deck = stimuli_cond1_swapped[gameIndex][0];
    data.click_high_pair = stimuli_cond1_swapped[gameIndex][i]; //save pair real value  
    data.click_high_pair_index = stimuli_cond1_swapped[gameIndex][i] //save pair index
    }
    };

return click_card_high

}




//Create function for the satisfaction version, so that subjects click on the lowest card

function clickCardLow(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = shuffled_games[trialIdx];

if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
    var current_pair_index = pair_index + 1;
} else if (pair_index == 4 || pair_index == 5) {
    var current_pair_index = pair_index;
}


var click_card_low = {
type: jsPsychHtmlButtonResponse,
stimulus: function (data) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = shuffled_games[trialIdx];


if (gameIndex >= 0 && gameIndex <= game_number) {
        var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
    
    if (amount_calculation<3) {

        var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


    } else {

        var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
    }            
    
    var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' + '<br>' 
    var pairStimulus =  '<div> <br> Quelle carte a la valeur la moins élevée? <br> <br> </div>' + '<div class="img-container2-wrapper">' + 
                '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' + '</div>'
    return amount + images_circle + pairStimulus; // Concatenate both stimuli
}
},
choices: ['<div class="text-container8">Carte 1 </div>', '<div class="text-container8">Carte 2 </div>', '<div class="text-container8">Aucune </div>'],
margin_horizontal: '20px',
margin_vertical: '15px',
on_finish: function (data) {
data.test_part = 'catch_click_low';
data.trial = trialIdx;
data.game = gameIndex
data.pair_number = pair_index
data.click_low_response_time = data.rt;
data.click_low_deck = stimuli_cond1_swapped[gameIndex][0];
data.click_low_pair = stimuli_cond1_swapped[gameIndex][i]; //save pair real value  
data.click_low_pair_index = stimuli_cond1_swapped[gameIndex][i] //save pair index
}
};

return click_card_low

}


//Create conditional function to display susp slider when appropriate depending on game index
function displayClickCard(click_card, n1, n2, n3, n4, n5, n6) {
    var card = {
        timeline: [click_card],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return card;
}





//Create function to display count, pure lottery and pair
function createPureLottery(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, stim, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value   
    var gameIndex = shuffled_games[trialIdx];
    if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
        var current_pair_index = pair_index + 1;
    } else if (pair_index == 4 || pair_index == 5) {
        var current_pair_index = pair_index;
    }


var pure_lottery = {
type: jsPsychHtmlKeyboardResponse,
stimulus: function (data) {

    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = shuffled_games[trialIdx];

    
    if (gameIndex >= 0 && gameIndex <= game_number) {
        var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
        console.log(amount_calculation)
        if (amount_calculation<3) {

            var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


        } else {

            var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
        }        
        
        var altStimulus = stimulus_to_alt[stim]; // Get stimulus_to_alt[0]
        var pairStimulus = '<div class="img-container2-wrapper">' + 
                    '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                    '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' 
        return amount + altStimulus + pairStimulus; // Concatenate both stimuli
    }
},
choices: "NO_KEYS",
trial_duration: 100
};

return pure_lottery

}



//Create conditional function alternate pure lottery with ending green:
function alternatePureLotteryEndGreen (green, red) {
    
    var alternate_pure_lottery_end_green = {
    timeline: [red, green, red, green],
    repetitions: getRandomElement(pure_lottery_length_even) //3
}

return alternate_pure_lottery_end_green

}


//Create conditional function alternate pure lottery with ending red:
function alternatePureLotteryEndRed (green, red) {
    
    var alternate_pure_lottery_end_red = {
    timeline: [green, red, green, red],
    repetitions: getRandomElement(pure_lottery_length_even) //3
}

return alternate_pure_lottery_end_red

}


//Create conditional function to decide which lottery ending should occur based on game index
function displayPureLotteryEnd(lot, n1, n2, n3, n4, n5, n6, lb, hb) {
    var display_pure_lottery_end = {
        timeline: [lot],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            if (gameIndex === n1 || gameIndex === n2 || gameIndex === n3 || gameIndex === n4 || gameIndex === n5 || gameIndex === n6) {
                return true; 
            } else {
                return false;
            }
        }
    };

    return display_pure_lottery_end;
}



//Create function to create appropriate lottery color display + final card
function PureLotteryWithCard (pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, stim, card_index, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {
    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = shuffled_games[trialIdx];
    
    if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
    } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
    }


    var pure_lottery_with_card= {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {

        var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
        var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
        var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
        var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
        var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
        var gameIndex = shuffled_games[trialIdx];

        if (gameIndex >= 0 && gameIndex <= game_number) {
            var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
            console.log(amount_calculation)

            if (amount_calculation<3) {

                var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


            } else {

                var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
            }            
            
            var altStimulus = stimulus_to_alt[stim]; // Get stimulus_to_alt[1]
            console.log(altStimulus)
            console.log(stimulus_to_alt[stim])

            if (card_index == 0) {

                var cardStimulus = '<div class="img-container2-wrapper">' +   '<div class="img-container2 left_end ">' +images_Exp[stimuli_cond1_swapped[gameIndex][i][0]] + '</div>'  + '<div class="img-container2 right">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][1]] + '</div>' + '</div>';

            } else if (card_index == 1) {

                var cardStimulus = '<div class="img-container2-wrapper">'  + '<div class="img-container2 left">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][0]] + '</div>' +  '<div class="img-container2 right_end">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][1]] + '</div>' + '</div>' ;
            }
            console.log(cardStimulus)

            return amount + altStimulus + cardStimulus; // Concatenate both stimuli
        }
    },
    choices:"NO_KEYS", //'b'
    trial_duration: 2000,
    on_finish: function (data) {
        data.card_stimulus = images_Exp[stimuli_cond1_swapped[gameIndex][i][card_index]],
        data.count = 0 + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
    }
};

return pure_lottery_with_card


}


//Create conditional function to display card 1 or 2 with appropriate lottery ending depending on game index
function displayPureLotteryEndWithCard (card, n1, n2, n3, n4, n5, n6) {
    
    var display_pure_lottery_end_card = {
        timeline: [card],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            if (gameIndex === n1 || gameIndex === n2 || gameIndex === n3 || gameIndex === n4 || gameIndex === n5 || gameIndex === n6) {
                return true;
            } else {
                return false;
        }
    }
}   
    return display_pure_lottery_end_card

}



//Create function to create only the final selected card
function Card (pair_index, card_index) {
    
    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    

var card = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {
        var gameIndex = shuffled_games[trialIdx];
        if (gameIndex >= 0 && gameIndex <= game_number) {

            if(card_index == 0) {

                return ['<div class="img-container2 left_end">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][card_index]] + '</div>'];
            
            } else if (card_index == 1) {
                return ['<div class="img-container2 right_end">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][card_index]] + '</div>'];

            }
        }
    },
    choices: "NO_KEYS", // 'b' 
    trial_duration: 1500
};

return card

}


//Create function to decide which final card to display from pair based on gameIndex
function displayCard(card, n1, n2, n3, n4, n5, n6) {
    var display_card = {
        timeline: [card],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return display_card;
}



//Create function to calculate final count for selected card
function count (pair_index_1, pair_index_2, pair_index_3, card_index_1, k, card_index_2, l, card_index_3, pair_index_4, pair_index_5, j, card_index_4, h, card_index_5) {

    var i_1 = pair_index_1 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_2 = pair_index_2 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_3 = pair_index_3 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_4 = pair_index_4 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_5 = pair_index_5 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var gameIndex = shuffled_games[trialIdx];
    
    var count = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {
        var gameIndex = shuffled_games[trialIdx];
        if (gameIndex >= 0 && gameIndex <= game_number) {
            
       var amount = stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2] 
                + l * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + j * stimuli_cond1_swapped[gameIndex][i_4][card_index_4]
                + h * stimuli_cond1_swapped[gameIndex][i_5][card_index_5]
            
        if (amount < 3) {
            return ['<div class="text-container6">Compte = ' + amount +'</div>'];
        } else {
            return ['<div class="text-container7">Compte = ' + amount +'</div>'];
        }

            
        }    
        
    },
    choices:  "NO_KEYS", //'b'
    trial_duration: 2000,
    on_finish: function (data) {
        data.count_end_of_trial = stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
        + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2] 
        + l * stimuli_cond1_swapped[gameIndex][i_3][card_index_3] 
        + j * stimuli_cond1_swapped[gameIndex][i_4][card_index_4] 
        + h * stimuli_cond1_swapped[gameIndex][i_5][card_index_5]
    }
};

return count
}



//Create function to decide which final count to display from pair based on gameIndex
function displayCount(count, n1, n2, n3, n4, n5, n6) {
    var display_count = {
        timeline: [count],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return display_count;
}



//Create function to display deck and appropriate count according to round
function createDeck(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

    var i_1 = pair_index_1 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_2 = pair_index_2 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_3 = pair_index_3 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_4 = pair_index_4 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_5 = pair_index_5 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var gameIndex = shuffled_games[trialIdx];

    if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
            } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
            }

    var deck = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {
            
        var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
        var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
        var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
        var i_3 = pair_index_3 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
        var i_4 = pair_index_4 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
        var gameIndex = shuffled_games[trialIdx];

            if (gameIndex >= 0 && gameIndex <= game_number) {
                
                var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
            
        
                console.log(current_pair_index)
                console.log(amount_calculation)

                if (amount_calculation<3) {

                    var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


                } else {

                    var amount = '<div class="text-container5"> Manche = ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
                }                      
                console.log(amount)
                var deck = '<div class="img3-container">' + selectImages(shuffleArray(stimuli_cond1_swapped[gameIndex][1])).join(' ')  +'</div>'
                return amount + deck;

    
            }
        },
        choices: "NO_KEYS", //'b'
        trial_duration: 3000
    };

    return deck;
}


//Create conditional function to decide which deck and count card to display based on gameIndex
function displayDeck(deck, n1, n2, n3, n4, n5, n6) {
    var display_deck = {
        timeline: [deck],
        conditional_function: function () {
            var gameIndex = shuffled_games[trialIdx];
            return [n1, n2, n3, n4, n5, n6].includes(gameIndex);
        }
    };
    return display_deck;
}




//Create catch trials

//Have you seen this pair?
function seenCatchTrial(pair_index) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var gameIndex = shuffled_games[trialIdx-2];
var current_pair_index = pair_index + 1


    var seen_card = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function (data) {

    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var gameIndex = shuffled_games[trialIdx-2];


    if (gameIndex >= 0 && gameIndex <= game_number) {
            var pairStimulus =  '<div> <br> Avez-vous déjà vu cette paire? <br> <br> </div>' + '<div class="img-container2-wrapper">' + 
                    '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                    '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' + '</div>'
        return  pairStimulus; 
    }
    },
    choices: ['<div class="text-container8">Oui </div>', '<div class="text-container8">Non </div>', '<div class="text-container8">Je ne sais pas </div>'],
    margin_horizontal: '20px',
    margin_vertical: '15px',
    on_finish: function (data) {
    data.test_part = 'catch_seen';
    data.trial = trialIdx;
    data.game = gameIndex
    data.pair_number = pair_index
    data.seen_response_time = data.rt;
    data.seen_deck = stimuli_cond1_swapped[shuffled_games[trialIdx-2]][0];
    data.seen_pair = stimuli_cond1_swapped[shuffled_games[trialIdx-2]][i]; //save pair real value  
    data.seen_pair_index = stimuli_cond1_swapped[shuffled_games[trialIdx-2]][i] //save pair index
    }
    };

return seen_card

}



//Create conditional function to decide which seenCatchTrial to display based on gameIndex
function displaySeenCatchTrial(catch_seen, n1, n2, n3, n4, n5, n6) {
    var display_catch_seen = {
        timeline: [catch_seen],
        conditional_function: function () {
            var past_gameIndex = shuffled_games[trialIdx-2];
            var catch_divisor = [6, 9, 12, 15]

            console.log(past_gameIndex)
            return [n1, n2, n3, n4, n5, n6].includes(past_gameIndex) && catch_divisor.includes(trialIdx);
        }
    };
    return display_catch_seen;
}








// ******************************************************
// ****** APPLY FUNCTIONS FOR EXPERIMENT VARIABLES ******
// ******************************************************


//Calculate all possible count trajectories

//Trial 1
var count_pair_1_card_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 0, card_index_2 = 0, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_1_card_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 0, card_index_2 = 0, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)

//Trial 2
var count_pair_2_card_1_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_2_card_1_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 1, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_2_card_2_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_2_card_2_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 0, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)

//Trial 3
var count_pair_3_card_1_1_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_3_card_1_1_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_3_card_1_2_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 1, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_3_card_2_2_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_3_card_2_2_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_3_card_2_1_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 0, h = 0, card_index_5 = 0)

//Trial 4
var count_pair_4_card_1_1_1_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 0, card_index_5 = 0)
var count_pair_4_card_1_1_2_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 0, card_index_5 = 0)
var count_pair_4_card_1_2_2_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 1, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_4_card_2_2_2_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_4_card_2_2_1_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 0, h = 0, card_index_5 = 0)
var count_pair_4_card_2_1_1_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 0, card_index_5 = 0)


//Trial 5
var count_pair_5_card_1_1_1_2_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 1, card_index_5 = 1)
var count_pair_5_card_1_1_2_2_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 1, card_index_5 = 0)
var count_pair_5_card_1_2_2_1_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 1, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 0, h = 1, card_index_5 = 1)
var count_pair_5_card_2_2_2_1_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 1, card_index_3 = 1, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 0, h = 1, card_index_5 = 0)
var count_pair_5_card_2_2_1_1_2 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 1, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 0, h = 1, card_index_5 = 1)
var count_pair_5_card_2_1_1_2_1 = count(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 1, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 1, card_index_5 = 0)



//Save card 1 and card 2 for each pair

//Card 1
var pair_1_card_1 = Card(pair_index = 0, card_index = 0)
var pair_2_card_1 = Card(pair_index = 1, card_index = 0)
var pair_3_card_1 = Card(pair_index = 2, card_index = 0)
var pair_4_card_1 = Card(pair_index = 4, card_index = 0)
var pair_5_card_1 = Card(pair_index = 5, card_index = 0)

//Card 2
var pair_1_card_2 = Card(pair_index = 0, card_index = 1)
var pair_2_card_2 = Card(pair_index = 1, card_index = 1)
var pair_3_card_2 = Card(pair_index = 2, card_index = 1)
var pair_4_card_2 = Card(pair_index = 4, card_index = 1)
var pair_5_card_2 = Card(pair_index = 5, card_index = 1)





// ******************************************************
// ******** CONDITIONAL DEPENDING ON GAME INDEX *********
// ******************************************************


// ******************************************************
// ******** 0, 6, 12, 18, 24, 30  -> 1 - 1 - 1 - 2 - 2 **
// ******************************************************



// 1. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 1 from pair 1 + card 1 from pair 2 (1-1-1-2-2)
var pair_1_count_games0 = createPair(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_2_count_games0 = createPair(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_3_count_games0 = createPair(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_4_count_games0 = createPair(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_5_count_games0 = createPair(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1);



//Display created sum depending on game index
var display_pair_1_count_games0 = displayPair(pair_1_count_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_count_games0 = displayPair(pair_2_count_games0, 0, 6, 12, 18, 24, 30);
var display_pair_3_count_games0 = displayPair(pair_3_count_games0, 0, 6, 12, 18, 24, 30);
var display_pair_4_count_games0 = displayPair(pair_4_count_games0, 0, 6, 12, 18, 24, 30);
var display_pair_5_count_games0 = displayPair(pair_5_count_games0, 0, 6, 12, 18, 24, 30);



//1.b. Show initial pairs and calculate count but with keyborad press to activate lottery
var pair_1_count_with_key_games0 = createPairWithKey(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_2_count_with_key_games0 = createPairWithKey(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_3_count_with_key_games0 = createPairWithKey(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_4_count_with_key_games0 = createPairWithKey(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_5_count_with_key_games0 = createPairWithKey(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1);


//Display created sum depending on game index
var display_pair_1_count_with_key_games0 = displayPairWithKey(pair_1_count_with_key_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_count_with_key_games0 = displayPairWithKey(pair_2_count_with_key_games0, 0, 6, 12, 18, 24, 30);
var display_pair_3_count_with_key_games0 = displayPairWithKey(pair_3_count_with_key_games0, 0, 6, 12, 18, 24, 30);
var display_pair_4_count_with_key_games0 = displayPairWithKey(pair_4_count_with_key_games0, 0, 6, 12, 18, 24, 30);
var display_pair_5_count_with_key_games0 = displayPairWithKey(pair_5_count_with_key_games0, 0, 6, 12, 18, 24, 30);



// 2. Show suspense slider

//Create suspense slider
var pair_1_susp_slider_games0 = createPairSuspSlider(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_susp_slider_games0 = createPairSuspSlider(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_susp_slider_games0 = createPairSuspSlider(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_susp_slider_games0 = createPairSuspSlider(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_susp_slider_games0 = createPairSuspSlider(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)



//Display suspense slider depending on game index
var display_pair_1_susp_slider_games0 = displayPairSuspSlider(pair_1_susp_slider_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_susp_slider_games0 = displayPairSuspSlider(pair_2_susp_slider_games0, 0, 6, 12, 18, 24, 30)
var display_pair_3_susp_slider_games0 = displayPairSuspSlider(pair_3_susp_slider_games0, 0, 6, 12, 18, 24, 30)
var display_pair_4_susp_slider_games0 = displayPairSuspSlider(pair_4_susp_slider_games0, 0, 6, 12, 18, 24, 30)
var display_pair_5_susp_slider_games0 = displayPairSuspSlider(pair_5_susp_slider_games0, 0, 6, 12, 18, 24, 30)


//2.b. Click on card high

var pair_1_click_card_high_games0 = clickCardHigh(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_click_card_high_games0 = clickCardHigh(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_click_card_high_games0 = clickCardHigh(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_click_card_high_games0 = clickCardHigh(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_click_card_high_games0 = clickCardHigh(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)



//Display the click card depending on game index

var display_pair_1_click_card_high_games0 = displayClickCard(pair_1_click_card_high_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_click_card_high_games0 = displayClickCard(pair_2_click_card_high_games0, 0, 6, 12, 18, 24, 30)
var display_pair_3_click_card_high_games0 = displayClickCard(pair_3_click_card_high_games0, 0, 6, 12, 18, 24, 30)
var display_pair_4_click_card_high_games0 = displayClickCard(pair_4_click_card_high_games0, 0, 6, 12, 18, 24, 30)
var display_pair_5_click_card_high_games0 = displayClickCard(pair_5_click_card_high_games0, 0, 6, 12, 18, 24, 30)


//2.c. Click on card low

var pair_1_click_card_low_games0 = clickCardLow(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_click_card_low_games0 = clickCardLow(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_click_card_low_games0 = clickCardLow(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_click_card_low_games0 = clickCardLow(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_click_card_low_games0 = clickCardLow(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)


//Display the click card depending on game index

var display_pair_1_click_card_low_games0 = displayClickCard(pair_1_click_card_low_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_click_card_low_games0 = displayClickCard(pair_2_click_card_low_games0, 0, 6, 12, 18, 24, 30)
var display_pair_3_click_card_low_games0 = displayClickCard(pair_3_click_card_low_games0, 0, 6, 12, 18, 24, 30)
var display_pair_4_click_card_low_games0 = displayClickCard(pair_4_click_card_low_games0, 0, 6, 12, 18, 24, 30)
var display_pair_5_click_card_low_games0 = displayClickCard(pair_5_click_card_low_games0, 0, 6, 12, 18, 24, 30)





// 3. Show lottery and pair combinations

//GREEN
var pair_1_pure_lottery_green_games0 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_pure_lottery_green_games0 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_pure_lottery_green_games0 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_pure_lottery_green_games0 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_pure_lottery_green_games0 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)


//RED
var pair_1_pure_lottery_red_games0 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_pure_lottery_red_games0 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_pure_lottery_red_games0 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_pure_lottery_red_games0 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_pure_lottery_red_games0 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)


//Save the alternation of each pair with the lottery ending green
var pair_1_alternate_pure_lottery_end_green_games0 = alternatePureLotteryEndGreen(pair_1_pure_lottery_green_games0, pair_1_pure_lottery_red_games0)
var pair_2_alternate_pure_lottery_end_green_games0 = alternatePureLotteryEndGreen(pair_2_pure_lottery_green_games0, pair_2_pure_lottery_red_games0)
var pair_3_alternate_pure_lottery_end_green_games0 = alternatePureLotteryEndGreen(pair_3_pure_lottery_green_games0, pair_3_pure_lottery_red_games0)
var pair_4_alternate_pure_lottery_end_green_games0 = alternatePureLotteryEndGreen(pair_4_pure_lottery_green_games0, pair_4_pure_lottery_red_games0)
var pair_5_alternate_pure_lottery_end_green_games0 = alternatePureLotteryEndGreen(pair_5_pure_lottery_green_games0, pair_5_pure_lottery_red_games0)



//Save the alternation of each pair with the lottery ending red
var pair_1_alternate_pure_lottery_end_red_games0 = alternatePureLotteryEndRed(pair_1_pure_lottery_green_games0, pair_1_pure_lottery_red_games0)
var pair_2_alternate_pure_lottery_end_red_games0 = alternatePureLotteryEndRed(pair_2_pure_lottery_green_games0, pair_2_pure_lottery_red_games0)
var pair_3_alternate_pure_lottery_end_red_games0 = alternatePureLotteryEndRed(pair_3_pure_lottery_green_games0, pair_3_pure_lottery_red_games0)
var pair_4_alternate_pure_lottery_end_red_games0 = alternatePureLotteryEndRed(pair_4_pure_lottery_green_games0, pair_4_pure_lottery_red_games0)
var pair_5_alternate_pure_lottery_end_red_games0 = alternatePureLotteryEndRed(pair_5_pure_lottery_green_games0, pair_5_pure_lottery_red_games0)


//4. Display final card with lottery stop

//First three pairs end up on GREEN
var display_pair_1_lottery_end_green_games0 = displayPureLotteryEnd(pair_1_alternate_pure_lottery_end_green_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_lottery_end_green_games0 = displayPureLotteryEnd(pair_2_alternate_pure_lottery_end_green_games0, 0, 6, 12, 18, 24, 30)
var display_pair_3_lottery_end_green_games0 = displayPureLotteryEnd(pair_3_alternate_pure_lottery_end_green_games0, 0, 6, 12, 18, 24, 30)


//Last two pairs end on red card

var display_pair_4_lottery_end_red_games0 = displayPureLotteryEnd(pair_4_alternate_pure_lottery_end_red_games0, 0, 6, 12, 18, 24, 30)
var display_pair_5_lottery_end_red_games0 = displayPureLotteryEnd(pair_5_alternate_pure_lottery_end_red_games0, 0, 6, 12, 18, 24, 30)


//5. Show final card and appropriate lottery
//Save each pair with ending card 1 (green lot) or card 2 (red lot)

var pair_1_end_green_card_1_games0 = PureLotteryWithCard(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_end_green_card_1_games0 = PureLotteryWithCard(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_end_green_card_1_games0 = PureLotteryWithCard(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)


//Last two pairs en on card 2
var pair_4_end_red_card_2_games0 = PureLotteryWithCard(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_end_red_card_2_games0 = PureLotteryWithCard(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)



//End first three pairs with card 1 and GREEN lottery

var display_pair_1_end_green_card_1_games0 = displayPureLotteryEndWithCard(pair_1_end_green_card_1_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_end_green_card_1_games0 = displayPureLotteryEndWithCard(pair_2_end_green_card_1_games0, 0, 6, 12, 18, 24, 30)
var display_pair_3_end_green_card_1_games0 = displayPureLotteryEndWithCard(pair_3_end_green_card_1_games0, 0, 6, 12, 18, 24, 30)


//End last two pairs with card 3 and RED lottery
var display_pair_4_end_red_card_2_games0 = displayPureLotteryEndWithCard(pair_4_end_red_card_2_games0, 0, 6, 12, 18, 24, 30)
var display_pair_5_end_red_card_2_games0 = displayPureLotteryEndWithCard(pair_5_end_red_card_2_games0, 0, 6, 12, 18, 24, 30)


//6. Display final card alone

//three first pairs lead to only display card 1
var display_pair_1_card_1_games0 = displayCard(pair_1_card_1, 0, 6, 12, 18, 24, 30)
var display_pair_2_card_1_games0 = displayCard(pair_2_card_1, 0, 6, 12, 18, 24, 30)
var display_pair_3_card_1_games0 = displayCard(pair_3_card_1, 0, 6, 12, 18, 24, 30)

//last two pairs lead to display of card 2
var display_pair_4_card_2_games0 = displayCard(pair_4_card_2, 0, 6, 12, 18, 24, 30)
var display_pair_5_card_2_games0 = displayCard(pair_5_card_2, 0, 6, 12, 18, 24, 30)

//7. Calculate count for selected card

//First 3 pairs lead to display of count card 1
var display_count_pair_1_card_1_games0 = displayCount(count_pair_1_card_1, 0, 6, 12, 18, 24, 30)
var display_count_pair_2_card_1_games0 = displayCount(count_pair_2_card_1_1, 0, 6, 12, 18, 24, 30)
var display_count_pair_3_card_1_games0 = displayCount(count_pair_3_card_1_1_1, 0, 6, 12, 18, 24, 30)

//Last two lead to display of count card 2
var display_count_pair_4_card_2_games0 = displayCount(count_pair_4_card_1_1_1_2, 0, 6, 12, 18, 24, 30)
var display_count_pair_5_card_2_games0 = displayCount(count_pair_5_card_1_1_1_2_2, 0, 6, 12, 18, 24, 30)


// 8. Show deck and associated count depending on pair and game index
var pair_1_deck_games0 = createDeck(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_2_deck_games0 = createDeck(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_3_deck_games0 = createDeck(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1);
var pair_4_deck_games0 = createDeck(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1);
var pair_5_deck_games0 = createDeck(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1);



// Display the deck
var display_pair_1_deck_games0 = displayDeck(pair_1_deck_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_deck_games0 = displayDeck(pair_2_deck_games0, 0, 6, 12, 18, 24, 30);
var display_pair_3_deck_games0 = displayDeck(pair_3_deck_games0, 0, 6, 12, 18, 24, 30);
var display_pair_4_deck_games0 = displayDeck(pair_4_deck_games0, 0, 6, 12, 18, 24, 30);
var display_pair_5_deck_games0 = displayDeck(pair_5_deck_games0, 0, 6, 12, 18, 24, 30);


//9. Show catch seen trial: 'have you seen this card?'
var pair_1_catch_seen_games0 = seenCatchTrial(pair_index = 0)
var pair_2_catch_seen_games0 = seenCatchTrial(pair_index = 1)
var pair_3_catch_seen_games0 = seenCatchTrial(pair_index = 2)
var pair_4_catch_seen_games0 = seenCatchTrial(pair_index = 4)
var pair_5_catch_seen_games0 = seenCatchTrial(pair_index = 5)

//Display the appropriate catch seen depending on past game index (passed_game_index = shuffled_games[trialIdx - 1])

var display_pair_1_catch_seen_games0 = displaySeenCatchTrial(pair_1_catch_seen_games0, 0, 6, 12, 18, 24, 30)
var display_pair_2_catch_seen_games0 = displaySeenCatchTrial(pair_2_catch_seen_games0, 0, 6, 12, 18, 24, 30)
var display_pair_3_catch_seen_games0 = displaySeenCatchTrial(pair_3_catch_seen_games0, 0, 6, 12, 18, 24, 30)
var display_pair_4_catch_seen_games0 = displaySeenCatchTrial(pair_4_catch_seen_games0, 0, 6, 12, 18, 24, 30)
var display_pair_5_catch_seen_games0 = displaySeenCatchTrial(pair_5_catch_seen_games0, 0, 6, 12, 18, 24, 30)


// ******************************************************
// ******** 1, 7, 13, 19, 25, 31 -> 1 - 1 - 2 - 2 - 1 *********
// ******************************************************

// 1. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 1 from pair 1 + card 1 from pair 2 (1-1-2)
var pair_1_count_games1 = createPair(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_2_count_games1 = createPair(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_3_count_games1 = createPair(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_4_count_games1 = createPair(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_5_count_games1 = createPair(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1);


//Display created sum depending on game index
var display_pair_1_count_games1 = displayPair(pair_1_count_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_count_games1 = displayPair(pair_2_count_games1, 1, 7, 13, 19, 25, 31);
var display_pair_3_count_games1 = displayPair(pair_3_count_games1, 1, 7, 13, 19, 25, 31);
var display_pair_4_count_games1 = displayPair(pair_4_count_games1, 1, 7, 13, 19, 25, 31);
var display_pair_5_count_games1 = displayPair(pair_5_count_games1, 1, 7, 13, 19, 25, 31);


// 1.b Show initial pairs and calculate count but with key press

//Create sum: initial count of 0 + count card 1 from pair 1 + card 1 from pair 2 (1-1-2)
var pair_1_count_with_key_games1 = createPairWithKey(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_2_count_with_key_games1 = createPairWithKey(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_3_count_with_key_games1 = createPairWithKey(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_4_count_with_key_games1 = createPairWithKey(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_5_count_with_key_games1 = createPairWithKey(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1);



//Display created sum depending on game index
var display_pair_1_count_with_key_games1 = displayPairWithKey(pair_1_count_with_key_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_count_with_key_games1 = displayPairWithKey(pair_2_count_with_key_games1, 1, 7, 13, 19, 25, 31);
var display_pair_3_count_with_key_games1 = displayPairWithKey(pair_3_count_with_key_games1, 1, 7, 13, 19, 25, 31);
var display_pair_4_count_with_key_games1 = displayPairWithKey(pair_4_count_with_key_games1, 1, 7, 13, 19, 25, 31);
var display_pair_5_count_with_key_games1 = displayPairWithKey(pair_5_count_with_key_games1, 1, 7, 13, 19, 25, 31);


// 2. Show suspense slider

//Create suspense slider
var pair_1_susp_slider_games1 = createPairSuspSlider(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_2_susp_slider_games1 = createPairSuspSlider(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_3_susp_slider_games1 = createPairSuspSlider(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_4_susp_slider_games1 = createPairSuspSlider(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_5_susp_slider_games1 = createPairSuspSlider(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1);


//Display suspense slider depending on game index
var display_pair_1_susp_slider_games1 = displayPairSuspSlider(pair_1_susp_slider_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_susp_slider_games1 = displayPairSuspSlider(pair_2_susp_slider_games1, 1, 7, 13, 19, 25, 31)
var display_pair_3_susp_slider_games1 = displayPairSuspSlider(pair_3_susp_slider_games1, 1, 7, 13, 19, 25, 31)
var display_pair_4_susp_slider_games1 = displayPairSuspSlider(pair_4_susp_slider_games1, 1, 7, 13, 19, 25, 31)
var display_pair_5_susp_slider_games1 = displayPairSuspSlider(pair_5_susp_slider_games1, 1, 7, 13, 19, 25, 31)



//2.b. Click on card high

var pair_1_click_card_high_games1 = clickCardHigh(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_2_click_card_high_games1 = clickCardHigh(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_3_click_card_high_games1 = clickCardHigh(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_4_click_card_high_games1 = clickCardHigh(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_5_click_card_high_games1 = clickCardHigh(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1);



//Display the click card depending on game index

var display_pair_1_click_card_high_games1 = displayClickCard(pair_1_click_card_high_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_click_card_high_games1 = displayClickCard(pair_2_click_card_high_games1, 1, 7, 13, 19, 25, 31)
var display_pair_3_click_card_high_games1 = displayClickCard(pair_3_click_card_high_games1, 1, 7, 13, 19, 25, 31)
var display_pair_4_click_card_high_games1 = displayClickCard(pair_4_click_card_high_games1, 1, 7, 13, 19, 25, 31)
var display_pair_5_click_card_high_games1 = displayClickCard(pair_5_click_card_high_games1, 1, 7, 13, 19, 25, 31)



//2.c. Click on card low
var pair_1_click_card_low_games1 = clickCardLow(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_2_click_card_low_games1 = clickCardLow(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_3_click_card_low_games1 = clickCardLow(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_4_click_card_low_games1 = clickCardLow(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_5_click_card_low_games1 = clickCardLow(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1);



//2.c. Display the click card depending on game index

var display_pair_1_click_card_low_games1 = displayClickCard(pair_1_click_card_low_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_click_card_low_games1 = displayClickCard(pair_2_click_card_low_games1, 1, 7, 13, 19, 25, 31)
var display_pair_3_click_card_low_games1 = displayClickCard(pair_3_click_card_low_games1, 1, 7, 13, 19, 25, 31)
var display_pair_4_click_card_low_games1 = displayClickCard(pair_4_click_card_low_games1, 1, 7, 13, 19, 25, 31)
var display_pair_5_click_card_low_games1 = displayClickCard(pair_5_click_card_low_games1, 1, 7, 13, 19, 25, 31)






// 3. Show lottery and pair combinations

//GREEN
var pair_1_pure_lottery_green_games1 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_2_pure_lottery_green_games1 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_3_pure_lottery_green_games1 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_4_pure_lottery_green_games1 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_5_pure_lottery_green_games1 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1)


//RED
var pair_1_pure_lottery_red_games1 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_2_pure_lottery_red_games1 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_3_pure_lottery_red_games1 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_4_pure_lottery_red_games1 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_5_pure_lottery_red_games1 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1)


//Save the alternation of each pair with the lottery ending green
var pair_1_alternate_pure_lottery_end_green_games1 = alternatePureLotteryEndGreen(pair_1_pure_lottery_green_games1, pair_1_pure_lottery_red_games1)
var pair_2_alternate_pure_lottery_end_green_games1 = alternatePureLotteryEndGreen(pair_2_pure_lottery_green_games1, pair_2_pure_lottery_red_games1)
var pair_3_alternate_pure_lottery_end_green_games1 = alternatePureLotteryEndGreen(pair_3_pure_lottery_green_games1, pair_3_pure_lottery_red_games1)
var pair_4_alternate_pure_lottery_end_green_games1 = alternatePureLotteryEndGreen(pair_4_pure_lottery_green_games1, pair_4_pure_lottery_red_games1)
var pair_5_alternate_pure_lottery_end_green_games1 = alternatePureLotteryEndGreen(pair_5_pure_lottery_green_games1, pair_5_pure_lottery_red_games1)



//Save the alternation of each pair with the lottery ending red
var pair_1_alternate_pure_lottery_end_red_games1 = alternatePureLotteryEndRed(pair_1_pure_lottery_green_games1, pair_1_pure_lottery_red_games1)
var pair_2_alternate_pure_lottery_end_red_games1 = alternatePureLotteryEndRed(pair_2_pure_lottery_green_games1, pair_2_pure_lottery_red_games1)
var pair_3_alternate_pure_lottery_end_red_games1 = alternatePureLotteryEndRed(pair_3_pure_lottery_green_games1, pair_3_pure_lottery_red_games1)
var pair_4_alternate_pure_lottery_end_red_games1 = alternatePureLotteryEndRed(pair_4_pure_lottery_green_games1, pair_4_pure_lottery_red_games1)
var pair_5_alternate_pure_lottery_end_red_games1 = alternatePureLotteryEndRed(pair_5_pure_lottery_green_games1, pair_5_pure_lottery_red_games1)


//4. Show final card with lottery stop

//2 first pairs GREEN
var display_pair_1_lottery_end_green_games1 = displayPureLotteryEnd(pair_1_alternate_pure_lottery_end_green_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_lottery_end_green_games1 = displayPureLotteryEnd(pair_2_alternate_pure_lottery_end_green_games1, 1, 7, 13, 19, 25, 31)

//2 next pairs RED
var display_pair_3_lottery_end_red_games1 = displayPureLotteryEnd(pair_3_alternate_pure_lottery_end_red_games1, 1, 7, 13, 19, 25, 31)
var display_pair_4_lottery_end_red_games1 = displayPureLotteryEnd(pair_4_alternate_pure_lottery_end_red_games1, 1, 7, 13, 19, 25, 31)

//last pair end green
var display_pair_5_lottery_end_green_games1 = displayPureLotteryEnd(pair_5_alternate_pure_lottery_end_green_games1, 1, 7, 13, 19, 25, 31)


//5. Show final card and appropriate lottery

//Create pairs and lottery
//2 first pairs GREEN
var pair_1_end_green_card_1_games1 = PureLotteryWithCard(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_2_end_green_card_1_games1 = PureLotteryWithCard(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)

//2 second pairs red
var pair_3_end_red_card_2_games1 = PureLotteryWithCard(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_4_end_red_card_2_games1 = PureLotteryWithCard(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1)

//last pair green
var pair_5_end_green_card_1_games1 = PureLotteryWithCard(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1)



//Display appropriate pair ending and lottery 

//2 first pairs end with card 1 and GREEN lottery
var display_pair_1_end_green_card_1_games1 = displayPureLotteryEndWithCard(pair_1_end_green_card_1_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_end_green_card_1_games1 = displayPureLotteryEndWithCard(pair_2_end_green_card_1_games1, 1, 7, 13, 19, 25, 31)

//2 second pairs ends with card 2 and RED lottery
var display_pair_3_end_red_card_2_games1 = displayPureLotteryEndWithCard(pair_3_end_red_card_2_games1, 1, 7, 13, 19, 25, 31)
var display_pair_4_end_red_card_2_games1 = displayPureLotteryEndWithCard(pair_4_end_red_card_2_games1, 1, 7, 13, 19, 25, 31)

//last pair ends on GREEN lottery
var display_pair_5_end_green_card_1_games1 = displayPureLotteryEndWithCard(pair_5_end_green_card_1_games1, 1, 7, 13, 19, 25, 31)



//6. Display final card alone

//Only 2 first pairs lead to display card 1
var display_pair_1_card_1_games1 = displayCard(pair_1_card_1, 1, 7, 13, 19, 25, 31)
var display_pair_2_card_1_games1 = displayCard(pair_2_card_1, 1, 7, 13, 19, 25, 31)

//two second pairs leads to display card 2
var display_pair_3_card_2_games1 = displayCard(pair_3_card_2, 1, 7, 13, 19, 25, 31)
var display_pair_4_card_2_games1 = displayCard(pair_4_card_2, 1, 7, 13, 19, 25, 31)

//last pair leads to display of card 1
var display_pair_5_card_1_games1 = displayCard(pair_5_card_1, 1, 7, 13, 19, 25, 31)



//7. Calculate count for selected card

//2 first pairs lead to display of card 1 count
var display_count_pair_1_card_1_games1 = displayCount(count_pair_1_card_1, 1, 7, 13, 19, 25, 31)
var display_count_pair_2_card_1_games1 = displayCount(count_pair_2_card_1_1, 1, 7, 13, 19, 25, 31)

//Second pairs leads to display of card 2 count 
var display_count_pair_3_card_2_games1 = displayCount(count_pair_3_card_1_1_2, 1, 7, 13, 19, 25, 31)
var display_count_pair_4_card_2_games1 = displayCount(count_pair_4_card_1_1_2_2, 1, 7, 13, 19, 25, 31)

//Last pair leads to display of card 1 count
var display_count_pair_5_card_1_games1 = displayCount(count_pair_5_card_1_1_2_2_1, 1, 7, 13, 19, 25, 31)


// 8. Show deck and associated count depending on pair and game indes
var pair_1_deck_games1 = createDeck(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_2_deck_games1 = createDeck(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1)
var pair_3_deck_games1 = createDeck(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_4_deck_games1 = createDeck(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 1);
var pair_5_deck_games1 = createDeck(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 1);



// Display the deck
var display_pair_1_deck_games1 = displayDeck(pair_1_deck_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_deck_games1 = displayDeck(pair_2_deck_games1, 1, 7, 13, 19, 25, 31);
var display_pair_3_deck_games1 = displayDeck(pair_3_deck_games1, 1, 7, 13, 19, 25, 31);
var display_pair_4_deck_games1 = displayDeck(pair_4_deck_games1, 1, 7, 13, 19, 25, 31);
var display_pair_5_deck_games1 = displayDeck(pair_5_deck_games1, 1, 7, 13, 19, 25, 31);



//9. Show catch seen trial: 'have you seen this card?'

var pair_1_catch_seen_games1 = seenCatchTrial(pair_index = 0)
var pair_2_catch_seen_games1 = seenCatchTrial(pair_index = 1)
var pair_3_catch_seen_games1 = seenCatchTrial(pair_index = 2)
var pair_4_catch_seen_games1 = seenCatchTrial(pair_index = 4)
var pair_5_catch_seen_games1 = seenCatchTrial(pair_index = 5)

//Display the appropriate catch seen depending on past game index (passed_game_index = shuffled_games[trialIdx - 1])

var display_pair_1_catch_seen_games1 = displaySeenCatchTrial(pair_1_catch_seen_games1, 1, 7, 13, 19, 25, 31)
var display_pair_2_catch_seen_games1 = displaySeenCatchTrial(pair_2_catch_seen_games1, 1, 7, 13, 19, 25, 31)
var display_pair_3_catch_seen_games1 = displaySeenCatchTrial(pair_3_catch_seen_games1, 1, 7, 13, 19, 25, 31)
var display_pair_4_catch_seen_games1 = displaySeenCatchTrial(pair_4_catch_seen_games1, 1, 7, 13, 19, 25, 31)
var display_pair_5_catch_seen_games1 = displaySeenCatchTrial(pair_5_catch_seen_games1, 1, 7, 13, 19, 25, 31)




// ******************************************************
// ******** 2, 8, 14, 20, 26, 32 -> 1 - 2 - 2 - 1 - 2 ***
// ******************************************************


// 1. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 1 from pair 1 + card 2 from pair 2 (1-2-2-1-2)
var pair_1_count_games2 = createPair(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_2_count_games2 = createPair(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_3_count_games2 = createPair(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_count_games2 = createPair(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_count_games2 = createPair(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);


//Display created sum depending on game index
var display_pair_1_count_games2 = displayPair(pair_1_count_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_count_games2 = displayPair(pair_2_count_games2, 2, 8, 14, 20, 26, 32);
var display_pair_3_count_games2 = displayPair(pair_3_count_games2, 2, 8, 14, 20, 26, 32);
var display_pair_4_count_games2 = displayPair(pair_4_count_games2, 2, 8, 14, 20, 26, 32);
var display_pair_5_count_games2 = displayPair(pair_5_count_games2, 2, 8, 14, 20, 26, 32);




// 1.b. Show initial pairs and calculate count but with key press

//Create sum: initial count of 0 + count card 1 from pair 1 + card 2 from pair 2 (1-2-2)
var pair_1_count_with_key_games2 = createPairWithKey(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_2_count_with_key_games2 = createPairWithKey(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_3_count_with_key_games2 = createPairWithKey(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_count_with_key_games2 = createPairWithKey(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_count_with_key_games2 = createPairWithKey(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);


//Display created sum depending on game index
var display_pair_1_count_with_key_games2 = displayPairWithKey(pair_1_count_with_key_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_count_with_key_games2 = displayPairWithKey(pair_2_count_with_key_games2, 2, 8, 14, 20, 26, 32);
var display_pair_3_count_with_key_games2 = displayPairWithKey(pair_3_count_with_key_games2, 2, 8, 14, 20, 26, 32);
var display_pair_4_count_with_key_games2 = displayPairWithKey(pair_4_count_with_key_games2, 2, 8, 14, 20, 26, 32);
var display_pair_5_count_with_key_games2 = displayPairWithKey(pair_5_count_with_key_games2, 2, 8, 14, 20, 26, 32);




// 2. Show suspense slider

//Create suspense slider
var pair_1_susp_slider_games2 = createPairSuspSlider(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_2_susp_slider_games2 = createPairSuspSlider(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_3_susp_slider_games2 = createPairSuspSlider(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_susp_slider_games2 = createPairSuspSlider(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_susp_slider_games2 = createPairSuspSlider(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);

//Display suspense slider depending on game index
var display_pair_1_susp_slider_games2 = displayPairSuspSlider (pair_1_susp_slider_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_susp_slider_games2 = displayPairSuspSlider (pair_2_susp_slider_games2, 2, 8, 14, 20, 26, 32)
var display_pair_3_susp_slider_games2 = displayPairSuspSlider (pair_3_susp_slider_games2, 2, 8, 14, 20, 26, 32)
var display_pair_4_susp_slider_games2 = displayPairSuspSlider (pair_4_susp_slider_games2, 2, 8, 14, 20, 26, 32)
var display_pair_5_susp_slider_games2 = displayPairSuspSlider (pair_5_susp_slider_games2, 2, 8, 14, 20, 26, 32)



//2.b. Click on card high

var pair_1_click_card_high_games2 = clickCardHigh(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_click_card_high_games2 = clickCardHigh(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_click_card_high_games2 = clickCardHigh(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_click_card_high_games2 = clickCardHigh(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_click_card_high_games2 = clickCardHigh(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)



//2. Display the click card depending on game index

var display_pair_1_click_card_high_games2 = displayClickCard(pair_1_click_card_high_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_click_card_high_games2 = displayClickCard(pair_2_click_card_high_games2, 2, 8, 14, 20, 26, 32)
var display_pair_3_click_card_high_games2 = displayClickCard(pair_3_click_card_high_games2, 2, 8, 14, 20, 26, 32)
var display_pair_4_click_card_high_games2 = displayClickCard(pair_4_click_card_high_games2, 2, 8, 14, 20, 26, 32)
var display_pair_5_click_card_high_games2 = displayClickCard(pair_5_click_card_high_games2, 2, 8, 14, 20, 26, 32)



//2.c. Click on card low
var pair_1_click_card_low_games2 = clickCardLow(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_click_card_low_games2 = clickCardLow(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_click_card_low_games2 = clickCardLow(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_click_card_low_games2 = clickCardLow(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_click_card_low_games2 = clickCardLow(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)



//Display the click card depending on game index

var display_pair_1_click_card_low_games2 = displayClickCard(pair_1_click_card_low_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_click_card_low_games2 = displayClickCard(pair_2_click_card_low_games2, 2, 8, 14, 20, 26, 32)
var display_pair_3_click_card_low_games2 = displayClickCard(pair_3_click_card_low_games2, 2, 8, 14, 20, 26, 32)
var display_pair_4_click_card_low_games2 = displayClickCard(pair_4_click_card_low_games2, 2, 8, 14, 20, 26, 32)
var display_pair_5_click_card_low_games2 = displayClickCard(pair_5_click_card_low_games2, 2, 8, 14, 20, 26, 32)





// 3. Show lottery and pair combinations

//GREEN
var pair_1_pure_lottery_green_games2 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_pure_lottery_green_games2 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_pure_lottery_green_games2 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_pure_lottery_green_games2 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_pure_lottery_green_games2 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)

//RED
var pair_1_pure_lottery_red_games2 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_pure_lottery_red_games2 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_pure_lottery_red_games2 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_pure_lottery_red_games2 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_pure_lottery_red_games2 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)

//Save the alternation of each pair with the lottery ending green
var pair_1_alternate_pure_lottery_end_green_games2 = alternatePureLotteryEndGreen(pair_1_pure_lottery_green_games2, pair_1_pure_lottery_red_games2)
var pair_2_alternate_pure_lottery_end_green_games2 = alternatePureLotteryEndGreen(pair_2_pure_lottery_green_games2, pair_2_pure_lottery_red_games2)
var pair_3_alternate_pure_lottery_end_green_games2 = alternatePureLotteryEndGreen(pair_3_pure_lottery_green_games2, pair_3_pure_lottery_red_games2)
var pair_4_alternate_pure_lottery_end_green_games2 = alternatePureLotteryEndGreen(pair_4_pure_lottery_green_games2, pair_4_pure_lottery_red_games2)
var pair_5_alternate_pure_lottery_end_green_games2 = alternatePureLotteryEndGreen(pair_5_pure_lottery_green_games2, pair_5_pure_lottery_red_games2)

//Save the alternation of each pair with the lottery ending red
var pair_1_alternate_pure_lottery_end_red_games2 = alternatePureLotteryEndRed(pair_1_pure_lottery_green_games2, pair_1_pure_lottery_red_games2)
var pair_2_alternate_pure_lottery_end_red_games2 = alternatePureLotteryEndRed(pair_2_pure_lottery_green_games2, pair_2_pure_lottery_red_games2)
var pair_3_alternate_pure_lottery_end_red_games2 = alternatePureLotteryEndRed(pair_3_pure_lottery_green_games2, pair_3_pure_lottery_red_games2)
var pair_4_alternate_pure_lottery_end_red_games2 = alternatePureLotteryEndRed(pair_4_pure_lottery_green_games2, pair_4_pure_lottery_red_games2)
var pair_5_alternate_pure_lottery_end_red_games2 = alternatePureLotteryEndRed(pair_5_pure_lottery_green_games2, pair_5_pure_lottery_red_games2)



//4. Show final card with lottery stop

//First pair ends up on GREEN
var display_pair_1_lottery_end_green_games2 = displayPureLotteryEnd(pair_1_alternate_pure_lottery_end_green_games2, 2, 8, 14, 20, 26, 32)

//Two next pairs end up on RED
var display_pair_2_lottery_end_red_games2 = displayPureLotteryEnd(pair_2_alternate_pure_lottery_end_red_games2, 2, 8, 14, 20, 26, 32)
var display_pair_3_lottery_end_red_games2 = displayPureLotteryEnd(pair_3_alternate_pure_lottery_end_red_games2, 2, 8, 14, 20, 26, 32)

//Next pair ends up on GREEN
var display_pair_4_lottery_end_green_games2 = displayPureLotteryEnd(pair_4_alternate_pure_lottery_end_green_games2, 2, 8, 14, 20, 26, 32)

//Last pair ends up on RED
var display_pair_5_lottery_end_red_games2 = displayPureLotteryEnd(pair_5_alternate_pure_lottery_end_green_games2, 2, 8, 14, 20, 26, 32)


//5. Show final card and appropriate lottery

//Create pairs and lottery

//First pair ends up on GREEN
var pair_1_end_green_card_1_games2 = PureLotteryWithCard(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)

//Second 2 pairs end up on RED
var pair_2_end_red_card_2_games2 = PureLotteryWithCard(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_end_red_card_2_games2 = PureLotteryWithCard(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)

//Next pair ends up on GREEN 
var pair_4_end_green_card_1_games2 = PureLotteryWithCard(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)

//Last pair ends up on RED
var pair_5_end_red_card_2_games2 = PureLotteryWithCard(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)



//Display appropriate pair ending and lottery 

//First pair ends with card 1 and GREEN lottery
var display_pair_1_end_green_card_1_games2 = displayPureLotteryEndWithCard(pair_1_end_green_card_1_games2, 2, 8, 14, 20, 26, 32)

//Second two pairs end with card 2 and RED lottery
var display_pair_2_end_red_card_2_games2 = displayPureLotteryEndWithCard(pair_2_end_red_card_2_games2, 2, 8, 14, 20, 26, 32)
var display_pair_3_end_red_card_2_games2 = displayPureLotteryEndWithCard(pair_3_end_red_card_2_games2, 2, 8, 14, 20, 26, 32)

//Next pair ends with card 1 and GREEN lottery
var display_pair_4_end_green_card_1_games2 = displayPureLotteryEndWithCard(pair_4_end_green_card_1_games2, 2, 8, 14, 20, 26, 32)

//Last pair ends with card 2 and RED lottery
var display_pair_5_end_red_card_2_games2 = displayPureLotteryEndWithCard(pair_5_end_red_card_2_games2, 2, 8, 14, 20, 26, 32)


//6. Display final card alone

//First pair leads to display card 1
var display_pair_1_card_1_games2 = displayCard(pair_1_card_1, 2, 8, 14, 20, 26, 32)

//Second two pairs lead to display card 2 
var display_pair_2_card_2_games2 = displayCard(pair_2_card_2, 2, 8, 14, 20, 26, 32)
var display_pair_3_card_2_games2 = displayCard(pair_3_card_2, 2, 8, 14, 20, 26, 32)

//Next pair leads to display of card 1
var display_pair_4_card_1_games2 = displayCard(pair_4_card_1, 2, 8, 14, 20, 26, 32)

//Last pair leads to display of card 2
var display_pair_5_card_2_games2 = displayCard(pair_5_card_2, 2, 8, 14, 20, 26, 32)


//7. Calculate count for selected card

//First pair leads to count of card 1 
var display_count_pair_1_card_1_games2 = displayCount(count_pair_1_card_1, 2, 8, 14, 20, 26, 32)

//Second two pairs lead to count of card 2 
var display_count_pair_2_card_2_games2 = displayCount(count_pair_2_card_1_2, 2, 8, 14, 20, 26, 32)
var display_count_pair_3_card_2_games2 = displayCount(count_pair_3_card_1_2_2, 2, 8, 14, 20, 26, 32)

//Next pair leads to count of card 1
var display_count_pair_4_card_1_games2 = displayCount(count_pair_4_card_1_2_2_1, 2, 8, 14, 20, 26, 32)

//Last pair leads to count of card 2
var display_count_pair_5_card_2_games2 = displayCount(count_pair_5_card_1_2_2_1_2, 2, 8, 14, 20, 26, 32)


// 8. Show deck and associated count depending on pair and game indes
var pair_1_deck_games2 = createDeck(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_deck_games2 = createDeck(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_deck_games2 = createDeck(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_deck_games2 = createDeck(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_deck_games2 = createDeck(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);


// Display the deck
var display_pair_1_deck_games2 = displayDeck(pair_1_deck_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_deck_games2 = displayDeck(pair_2_deck_games2, 2, 8, 14, 20, 26, 32);
var display_pair_3_deck_games2 = displayDeck(pair_3_deck_games2, 2, 8, 14, 20, 26, 32);
var display_pair_4_deck_games2 = displayDeck(pair_4_deck_games2, 2, 8, 14, 20, 26, 32);
var display_pair_5_deck_games2 = displayDeck(pair_5_deck_games2, 2, 8, 14, 20, 26, 32);



//9. Show catch seen trial: 'have you seen this card?'

var pair_1_catch_seen_games2 = seenCatchTrial(pair_index = 0)
var pair_2_catch_seen_games2 = seenCatchTrial(pair_index = 1)
var pair_3_catch_seen_games2 = seenCatchTrial(pair_index = 2)
var pair_4_catch_seen_games2 = seenCatchTrial(pair_index = 4)
var pair_5_catch_seen_games2 = seenCatchTrial(pair_index = 5)

//Display the appropriate catch seen depending on past game index (passed_game_index = shuffled_games[trialIdx - 1])

var display_pair_1_catch_seen_games2 = displaySeenCatchTrial(pair_1_catch_seen_games2, 2, 8, 14, 20, 26, 32)
var display_pair_2_catch_seen_games2 = displaySeenCatchTrial(pair_2_catch_seen_games2, 2, 8, 14, 20, 26, 32)
var display_pair_3_catch_seen_games2 = displaySeenCatchTrial(pair_3_catch_seen_games2, 2, 8, 14, 20, 26, 32)
var display_pair_4_catch_seen_games2 = displaySeenCatchTrial(pair_4_catch_seen_games2, 2, 8, 14, 20, 26, 32)
var display_pair_5_catch_seen_games2 = displaySeenCatchTrial(pair_5_catch_seen_games2, 2, 8, 14, 20, 26, 32)




// ******************************************************
// ******** 3, 9, 15, 21, 27, 33 -> 2 - 2 - 2 - 1 - 1  *********
// ******************************************************


// 1. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 2 from pair 1 + card 2 from pair 2 (2-2-2)
var pair_1_count_games3 = createPair(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_2_count_games3 = createPair(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_3_count_games3 = createPair(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_count_games3 = createPair(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_count_games3 = createPair(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);

//Display created sum depending on game index
var display_pair_1_count_games3 = displayPair(pair_1_count_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_count_games3 = displayPair(pair_2_count_games3, 3, 9, 15, 21, 27, 33);
var display_pair_3_count_games3 = displayPair(pair_3_count_games3, 3, 9, 15, 21, 27, 33);
var display_pair_4_count_games3 = displayPair(pair_4_count_games3, 3, 9, 15, 21, 27, 33);
var display_pair_5_count_games3 = displayPair(pair_5_count_games3, 3, 9, 15, 21, 27, 33);




// 1.b. Show initial pairs and calculate count but with key press

//Create sum: initial count of 0 + count card 2 from pair 1 + card 2 from pair 2 (2-2-2)
var pair_1_count_with_key_games3 = createPairWithKey(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_2_count_with_key_games3 = createPairWithKey(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_3_count_with_key_games3 = createPairWithKey(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_count_with_key_games3 = createPairWithKey(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_count_with_key_games3 = createPairWithKey(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);

//Display created sum depending on game index
var display_pair_1_count_with_key_games3 = displayPairWithKey(pair_1_count_with_key_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_count_with_key_games3 = displayPairWithKey(pair_2_count_with_key_games3, 3, 9, 15, 21, 27, 33);
var display_pair_3_count_with_key_games3 = displayPairWithKey(pair_3_count_with_key_games3, 3, 9, 15, 21, 27, 33);
var display_pair_4_count_with_key_games3 = displayPairWithKey(pair_4_count_with_key_games3, 3, 9, 15, 21, 27, 33);
var display_pair_5_count_with_key_games3 = displayPairWithKey(pair_5_count_with_key_games3, 3, 9, 15, 21, 27, 33);



// 2. Show suspense slider

//Create suspense slider
var pair_1_susp_slider_games3 = createPairSuspSlider(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_susp_slider_games3 = createPairSuspSlider(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_susp_slider_games3 = createPairSuspSlider(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_susp_slider_games3 = createPairSuspSlider(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_susp_slider_games3 = createPairSuspSlider(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)


//Display appropriate suspslider depending on game index
var display_pair_1_susp_slider_games3 = displayPairSuspSlider(pair_1_susp_slider_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_susp_slider_games3 = displayPairSuspSlider(pair_2_susp_slider_games3, 3, 9, 15, 21, 27, 33)
var display_pair_3_susp_slider_games3 = displayPairSuspSlider(pair_3_susp_slider_games3, 3, 9, 15, 21, 27, 33)
var display_pair_4_susp_slider_games3 = displayPairSuspSlider(pair_4_susp_slider_games3, 3, 9, 15, 21, 27, 33)
var display_pair_5_susp_slider_games3 = displayPairSuspSlider(pair_5_susp_slider_games3, 3, 9, 15, 21, 27, 33)


//2.b. Click on card

var pair_1_click_card_high_games3 = clickCardHigh(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_click_card_high_games3 = clickCardHigh(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_click_card_high_games3 = clickCardHigh(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_click_card_high_games3 = clickCardHigh(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_click_card_high_games3 = clickCardHigh(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)

//Display the click card depending on game index

var display_pair_1_click_card_high_games3 = displayClickCard(pair_1_click_card_high_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_click_card_high_games3 = displayClickCard(pair_2_click_card_high_games3, 3, 9, 15, 21, 27, 33)
var display_pair_3_click_card_high_games3 = displayClickCard(pair_3_click_card_high_games3, 3, 9, 15, 21, 27, 33)
var display_pair_4_click_card_high_games3 = displayClickCard(pair_4_click_card_high_games3, 3, 9, 15, 21, 27, 33)
var display_pair_5_click_card_high_games3 = displayClickCard(pair_5_click_card_high_games3, 3, 9, 15, 21, 27, 33)


//2.c. Click on card low
var pair_1_click_card_low_games3 = clickCardLow(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_click_card_low_games3 = clickCardLow(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_click_card_low_games3 = clickCardLow(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_click_card_low_games3 = clickCardLow(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_click_card_low_games3 = clickCardLow(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)

//Display the click card depending on game index

var display_pair_1_click_card_low_games3 = displayClickCard(pair_1_click_card_low_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_click_card_low_games3 = displayClickCard(pair_2_click_card_low_games3, 3, 9, 15, 21, 27, 33)
var display_pair_3_click_card_low_games3 = displayClickCard(pair_3_click_card_low_games3, 3, 9, 15, 21, 27, 33)
var display_pair_4_click_card_low_games3 = displayClickCard(pair_4_click_card_low_games3, 3, 9, 15, 21, 27, 33)
var display_pair_5_click_card_low_games3 = displayClickCard(pair_5_click_card_low_games3, 3, 9, 15, 21, 27, 33)






// 3. Show lottery and pair combinations

//GREEN
var pair_1_pure_lottery_green_games3 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_pure_lottery_green_games3 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_pure_lottery_green_games3 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_pure_lottery_green_games3 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_pure_lottery_green_games3 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)

//RED
var pair_1_pure_lottery_red_games3 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_pure_lottery_red_games3 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_pure_lottery_red_games3 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_4_pure_lottery_red_games3 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_pure_lottery_red_games3 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)

//Save the alternation of each pair with the lottery ending green
var pair_1_alternate_pure_lottery_end_green_games3 = alternatePureLotteryEndGreen(pair_1_pure_lottery_green_games3, pair_1_pure_lottery_red_games3)
var pair_2_alternate_pure_lottery_end_green_games3 = alternatePureLotteryEndGreen(pair_2_pure_lottery_green_games3, pair_2_pure_lottery_red_games3)
var pair_3_alternate_pure_lottery_end_green_games3 = alternatePureLotteryEndGreen(pair_3_pure_lottery_green_games3, pair_3_pure_lottery_red_games3)
var pair_4_alternate_pure_lottery_end_green_games3 = alternatePureLotteryEndGreen(pair_4_pure_lottery_green_games3, pair_4_pure_lottery_red_games3)
var pair_5_alternate_pure_lottery_end_green_games3 = alternatePureLotteryEndGreen(pair_5_pure_lottery_green_games3, pair_5_pure_lottery_red_games3)

//Save the alternation of each pair with the lottery ending red
var pair_1_alternate_pure_lottery_end_red_games3 = alternatePureLotteryEndRed(pair_1_pure_lottery_green_games3, pair_1_pure_lottery_red_games3)
var pair_2_alternate_pure_lottery_end_red_games3 = alternatePureLotteryEndRed(pair_2_pure_lottery_green_games3, pair_2_pure_lottery_red_games3)
var pair_3_alternate_pure_lottery_end_red_games3 = alternatePureLotteryEndRed(pair_3_pure_lottery_green_games3, pair_3_pure_lottery_red_games3)
var pair_4_alternate_pure_lottery_end_red_games3 = alternatePureLotteryEndRed(pair_4_pure_lottery_green_games3, pair_4_pure_lottery_red_games3)
var pair_5_alternate_pure_lottery_end_red_games3 = alternatePureLotteryEndRed(pair_5_pure_lottery_green_games3, pair_5_pure_lottery_red_games3)



//4. Show final card with lottery stop

//No need for GREEN as all of them end up on red

//first three pairs RED
var display_pair_1_lottery_end_red_games3 = displayPureLotteryEnd(pair_1_alternate_pure_lottery_end_red_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_lottery_end_red_games3 = displayPureLotteryEnd(pair_2_alternate_pure_lottery_end_red_games3, 3, 9, 15, 21, 27, 33)
var display_pair_3_lottery_end_red_games3 = displayPureLotteryEnd(pair_3_alternate_pure_lottery_end_red_games3, 3, 9, 15, 21, 27, 33)

//last two pairs GREEN
var display_pair_4_lottery_end_green_games3 = displayPureLotteryEnd(pair_4_alternate_pure_lottery_end_green_games3, 3, 9, 15, 21, 27, 33)
var display_pair_5_lottery_end_green_games3 = displayPureLotteryEnd(pair_5_alternate_pure_lottery_end_green_games3, 3, 9, 15, 21, 27, 33)


//5. Show final card and appropriate lottery

//Create pairs and lottery

//First three pairs end on card 2 and RED lottery
var pair_1_end_red_card_2_games3 = PureLotteryWithCard(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_end_red_card_2_games3 = PureLotteryWithCard(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_end_red_card_2_games3 = PureLotteryWithCard(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)

//Last two pairs end on card 1 and GREEN lottery
var pair_4_end_green_card_1_games3 = PureLotteryWithCard(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_5_end_green_card_1_games3 = PureLotteryWithCard(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0)



//Display appropriate pair ending and lottery 


//First three pairs end on card 2 and RED lottery
var display_pair_1_end_red_card_2_games3 = displayPureLotteryEndWithCard(pair_1_end_red_card_2_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_end_red_card_2_games3 = displayPureLotteryEndWithCard(pair_2_end_red_card_2_games3, 3, 9, 15, 21, 27, 33)
var display_pair_3_end_red_card_2_games3 = displayPureLotteryEndWithCard(pair_3_end_red_card_2_games3, 3, 9, 15, 21, 27, 33)

//Last two pairs end on card 1 and GREEN lottery
var display_pair_4_end_green_card_1_games3 = displayPureLotteryEndWithCard(pair_4_end_green_card_1_games3, 3, 9, 15, 21, 27, 33)
var display_pair_5_end_green_card_1_games3 = displayPureLotteryEndWithCard(pair_5_end_green_card_1_games3, 3, 9, 15, 21, 27, 33)


//6. Display final card alone

//First three pairs lead to display card 2 
var display_pair_1_card_2_games3 = displayCard(pair_1_card_2, 3, 9, 15, 21, 27, 33)
var display_pair_2_card_2_games3 = displayCard(pair_2_card_2, 3, 9, 15, 21, 27, 33)
var display_pair_3_card_2_games3 = displayCard(pair_3_card_2, 3, 9, 15, 21, 27, 33)

//Last two pairs lead to display card 1
var display_pair_4_card_1_games3 = displayCard(pair_4_card_1, 3, 9, 15, 21, 27, 33)
var display_pair_5_card_1_games3 = displayCard(pair_5_card_1, 3, 9, 15, 21, 27, 33)



//7. Calculate count for selected card

//First three pairs end with count of card 2
var display_count_pair_1_card_2_games3 = displayCount(count_pair_1_card_2, 3, 9, 15, 21, 27, 33)
var display_count_pair_2_card_2_games3 = displayCount(count_pair_2_card_2_2, 3, 9, 15, 21, 27, 33)
var display_count_pair_3_card_2_games3 = displayCount(count_pair_3_card_2_2_2, 3, 9, 15, 21, 27, 33)

//Last two pairs end with count of card 1
var display_count_pair_4_card_1_games3 = displayCount(count_pair_4_card_2_2_2_1, 3, 9, 15, 21, 27, 33)
var display_count_pair_5_card_1_games3 = displayCount(count_pair_5_card_2_2_2_1_1, 3, 9, 15, 21, 27, 33)


// 8. Show deck and associated count depending on pair and game indes
var pair_1_deck_games3 = createDeck(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_2_deck_games3 = createDeck(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0)
var pair_3_deck_games3 = createDeck(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_4_deck_games3 = createDeck(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 1, card_index_4 = 0);
var pair_5_deck_games3 = createDeck(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 1, card_index_4 = 0);



// Display the deck
var display_pair_1_deck_games3 = displayDeck(pair_1_deck_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_deck_games3 = displayDeck(pair_2_deck_games3, 3, 9, 15, 21, 27, 33);
var display_pair_3_deck_games3 = displayDeck(pair_3_deck_games3, 3, 9, 15, 21, 27, 33);
var display_pair_4_deck_games3 = displayDeck(pair_4_deck_games3, 3, 9, 15, 21, 27, 33);
var display_pair_5_deck_games3 = displayDeck(pair_5_deck_games3, 3, 9, 15, 21, 27, 33);


//9. Show catch seen trial: 'have you seen this card?'

var pair_1_catch_seen_games3 = seenCatchTrial(pair_index = 0)
var pair_2_catch_seen_games3 = seenCatchTrial(pair_index = 1)
var pair_3_catch_seen_games3 = seenCatchTrial(pair_index = 2)
var pair_4_catch_seen_games3 = seenCatchTrial(pair_index = 4)
var pair_5_catch_seen_games3 = seenCatchTrial(pair_index = 5)

//Display the appropriate catch seen depending on past game index (passed_game_index = shuffled_games[trialIdx - 1])

var display_pair_1_catch_seen_games3 = displaySeenCatchTrial(pair_1_catch_seen_games3, 3, 9, 15, 21, 27, 33)
var display_pair_2_catch_seen_games3 = displaySeenCatchTrial(pair_2_catch_seen_games3, 3, 9, 15, 21, 27, 33)
var display_pair_3_catch_seen_games3 = displaySeenCatchTrial(pair_3_catch_seen_games3, 3, 9, 15, 21, 27, 33)
var display_pair_4_catch_seen_games3 = displaySeenCatchTrial(pair_4_catch_seen_games3, 3, 9, 15, 21, 27, 33)
var display_pair_5_catch_seen_games3 = displaySeenCatchTrial(pair_5_catch_seen_games3, 3, 9, 15, 21, 27, 33)





// ******************************************************
// ******** 4, 10, 16, 22, 28, 34 -> 2 - 2 - 1 - 1 - 2 **
// ******************************************************



// 1. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 2 from pair 1 + card 2 from pair 2 (2-2-1-1-2)
var pair_1_count_games4 = createPair(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_2_count_games4 = createPair(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_3_count_games4 = createPair(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_4_count_games4 = createPair(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_5_count_games4 = createPair(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0);


//Display created sum depending on game index
var display_pair_1_count_games4 = displayPair(pair_1_count_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_count_games4 = displayPair(pair_2_count_games4, 4, 10, 16, 22, 28, 34);
var display_pair_3_count_games4 = displayPair(pair_3_count_games4, 4, 10, 16, 22, 28, 34);
var display_pair_4_count_games4 = displayPair(pair_4_count_games4, 4, 10, 16, 22, 28, 34);
var display_pair_5_count_games4 = displayPair(pair_5_count_games4, 4, 10, 16, 22, 28, 34);




// 1.b. Show initial pairs and calculate count with key press

//Create sum: initial count of 0 + count card 2 from pair 1 + card 2 from pair 2 (2-2-1)
var pair_1_count_with_key_games4 = createPairWithKey(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_2_count_with_key_games4 = createPairWithKey(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_3_count_with_key_games4 = createPairWithKey(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_4_count_with_key_games4 = createPairWithKey(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_5_count_with_key_games4 = createPairWithKey(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0);


//Display created sum depending on game index
var display_pair_1_count_with_key_games4 = displayPairWithKey(pair_1_count_with_key_games4, 4, 10, 16, 22, 28, 34);
var display_pair_2_count_with_key_games4 = displayPairWithKey(pair_2_count_with_key_games4, 4, 10, 16, 22, 28, 34);
var display_pair_3_count_with_key_games4 = displayPairWithKey(pair_3_count_with_key_games4, 4, 10, 16, 22, 28, 34);
var display_pair_4_count_with_key_games4 = displayPairWithKey(pair_4_count_with_key_games4, 4, 10, 16, 22, 28, 34);
var display_pair_5_count_with_key_games4 = displayPairWithKey(pair_5_count_with_key_games4, 4, 10, 16, 22, 28, 34);



// 2. Show suspense slider

//Create suspense slider
var pair_1_susp_slider_games4 = createPairSuspSlider(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_susp_slider_games4 = createPairSuspSlider(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_3_susp_slider_games4 = createPairSuspSlider(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_4_susp_slider_games4 = createPairSuspSlider(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_5_susp_slider_games4 = createPairSuspSlider(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0)


//Display appropriate suspslider depending on game index
var display_pair_1_susp_slider_games4 = displayPairSuspSlider(pair_1_susp_slider_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_susp_slider_games4 = displayPairSuspSlider(pair_2_susp_slider_games4, 4, 10, 16, 22, 28, 34)
var display_pair_3_susp_slider_games4 = displayPairSuspSlider(pair_3_susp_slider_games4, 4, 10, 16, 22, 28, 34)
var display_pair_4_susp_slider_games4 = displayPairSuspSlider(pair_4_susp_slider_games4, 4, 10, 16, 22, 28, 34)
var display_pair_5_susp_slider_games4 = displayPairSuspSlider(pair_5_susp_slider_games4, 4, 10, 16, 22, 28, 34)



//2.b. Click on card high

var pair_1_click_card_high_games4 = clickCardHigh(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_click_card_high_games4 = clickCardHigh(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_3_click_card_high_games4 = clickCardHigh(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_4_click_card_high_games4 = clickCardHigh(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_5_click_card_high_games4 = clickCardHigh(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0)

//Display the click card depending on game index
var display_pair_1_click_card_high_games4 = displayClickCard(pair_1_click_card_high_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_click_card_high_games4 = displayClickCard(pair_2_click_card_high_games4, 4, 10, 16, 22, 28, 34)
var display_pair_3_click_card_high_games4 = displayClickCard(pair_3_click_card_high_games4, 4, 10, 16, 22, 28, 34)
var display_pair_4_click_card_high_games4 = displayClickCard(pair_4_click_card_high_games4, 4, 10, 16, 22, 28, 34)
var display_pair_5_click_card_high_games4 = displayClickCard(pair_5_click_card_high_games4, 4, 10, 16, 22, 28, 34)



//2.c. Click on card low
var pair_1_click_card_low_games4 = clickCardLow(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_click_card_low_games4 = clickCardLow(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_3_click_card_low_games4 = clickCardLow(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_4_click_card_low_games4 = clickCardLow(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_5_click_card_low_games4 = clickCardLow(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0)

//Display the click card depending on game index
var display_pair_1_click_card_low_games4 = displayClickCard(pair_1_click_card_low_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_click_card_low_games4 = displayClickCard(pair_2_click_card_low_games4, 4, 10, 16, 22, 28, 34)
var display_pair_3_click_card_low_games4 = displayClickCard(pair_3_click_card_low_games4, 4, 10, 16, 22, 28, 34)
var display_pair_4_click_card_low_games4 = displayClickCard(pair_4_click_card_low_games4, 4, 10, 16, 22, 28, 34)
var display_pair_5_click_card_low_games4 = displayClickCard(pair_5_click_card_low_games4, 4, 10, 16, 22, 28, 34)






// 3. Show lottery and pair combinations

//GREEN
var pair_1_pure_lottery_green_games4 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_pure_lottery_green_games4 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_3_pure_lottery_green_games4 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_4_pure_lottery_green_games4 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_5_pure_lottery_green_games4 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0)

//RED
var pair_1_pure_lottery_red_games4 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_pure_lottery_red_games4 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_3_pure_lottery_red_games4 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_4_pure_lottery_red_games4 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_5_pure_lottery_red_games4 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0)


//Save the alternation of each pair with the lottery ending green
var pair_1_alternate_pure_lottery_end_green_games4 = alternatePureLotteryEndGreen(pair_1_pure_lottery_green_games4, pair_1_pure_lottery_red_games4)
var pair_2_alternate_pure_lottery_end_green_games4 = alternatePureLotteryEndGreen(pair_2_pure_lottery_green_games4, pair_2_pure_lottery_red_games4)
var pair_3_alternate_pure_lottery_end_green_games4 = alternatePureLotteryEndGreen(pair_3_pure_lottery_green_games4, pair_3_pure_lottery_red_games4)
var pair_4_alternate_pure_lottery_end_green_games4 = alternatePureLotteryEndGreen(pair_4_pure_lottery_green_games4, pair_4_pure_lottery_red_games4)
var pair_5_alternate_pure_lottery_end_green_games4 = alternatePureLotteryEndGreen(pair_5_pure_lottery_green_games4, pair_5_pure_lottery_red_games4)

//Save the alternation of each pair with the lottery ending red
var pair_1_alternate_pure_lottery_end_red_games4 = alternatePureLotteryEndRed(pair_1_pure_lottery_green_games4, pair_1_pure_lottery_red_games4)
var pair_2_alternate_pure_lottery_end_red_games4 = alternatePureLotteryEndRed(pair_2_pure_lottery_green_games4, pair_2_pure_lottery_red_games4)
var pair_3_alternate_pure_lottery_end_red_games4 = alternatePureLotteryEndRed(pair_3_pure_lottery_green_games4, pair_3_pure_lottery_red_games4)
var pair_4_alternate_pure_lottery_end_red_games4 = alternatePureLotteryEndRed(pair_4_pure_lottery_green_games4, pair_4_pure_lottery_red_games4)
var pair_5_alternate_pure_lottery_end_red_games4 = alternatePureLotteryEndRed(pair_5_pure_lottery_green_games4, pair_5_pure_lottery_red_games4)



//4. Show final card with lottery stop

//First two pairs end up on RED
var display_pair_1_lottery_end_red_games4 = displayPureLotteryEnd(pair_1_alternate_pure_lottery_end_red_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_lottery_end_red_games4 = displayPureLotteryEnd(pair_2_alternate_pure_lottery_end_red_games4, 4, 10, 16, 22, 28, 34)

//Two next pairs end up on GREEN
var display_pair_3_lottery_end_green_games4 = displayPureLotteryEnd(pair_3_alternate_pure_lottery_end_green_games4, 4, 10, 16, 22, 28, 34)
var display_pair_4_lottery_end_green_games4 = displayPureLotteryEnd(pair_4_alternate_pure_lottery_end_green_games4, 4, 10, 16, 22, 28, 34)

//Last pair end up on RED
var display_pair_5_lottery_end_red_games4 = displayPureLotteryEnd(pair_5_alternate_pure_lottery_end_red_games4, 4, 10, 16, 22, 28, 34)



//5. Show final card and appropriate lottery

//Create pairs and lottery

//First two pairs end up on RED
var pair_1_end_red_card_2_games4 = PureLotteryWithCard(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_end_red_card_2_games4 = PureLotteryWithCard(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)

//Next two pairs end up on GREEN
var pair_3_end_green_card_1_games4 = PureLotteryWithCard(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_4_end_green_card_1_games4 = PureLotteryWithCard(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0)

//Last pair end up on RED
var pair_5_end_red_card_2_games4 = PureLotteryWithCard(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0)


//Display appropriate pair ending and lottery 

//first two pairs end with card 2 and RED lottery
var display_pair_1_end_red_card_2_games4 = displayPureLotteryEndWithCard(pair_1_end_red_card_2_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_end_red_card_2_games4 = displayPureLotteryEndWithCard(pair_2_end_red_card_2_games4, 4, 10, 16, 22, 28, 34)

//next two pairs end with card 1 and GREEN lottery
var display_pair_3_end_green_card_1_games4 = displayPureLotteryEndWithCard(pair_3_end_green_card_1_games4, 4, 10, 16, 22, 28, 34)
var display_pair_4_end_green_card_1_games4 = displayPureLotteryEndWithCard(pair_4_end_green_card_1_games4, 4, 10, 16, 22, 28, 34)

//last pair ends with card 2 
var display_pair_5_end_red_card_2_games4 = displayPureLotteryEndWithCard(pair_5_end_red_card_2_games4, 4, 10, 16, 22, 28, 34)


//6. Display final card alone

//First two pairs lead to display of card 2
var display_pair_1_card_2_games4 = displayCard(pair_1_card_2, 4, 10, 16, 22, 28, 34)
var display_pair_2_card_2_games4 = displayCard(pair_2_card_2, 4, 10, 16, 22, 28, 34)

//next two pairs leads to display card 1 
var display_pair_3_card_1_games4 = displayCard(pair_3_card_1, 4, 10, 16, 22, 28, 34)
var display_pair_4_card_1_games4 = displayCard(pair_4_card_1, 4, 10, 16, 22, 28, 34)

//last pair leads to display of card 2
var display_pair_5_card_2_games4 = displayCard(pair_5_card_2, 4, 10, 16, 22, 28, 34)

//7. Calculate count for selected card

//First two pairs lead to display of card 2 count
var display_count_pair_1_card_2_games4 = displayCount(count_pair_1_card_2, 4, 10, 16, 22, 28, 34)
var display_count_pair_2_card_2_games4 = displayCount(count_pair_2_card_2_2, 4, 10, 16, 22, 28, 34)

//next two pairs lead to display of card 1 count
var display_count_pair_3_card_1_games4 = displayCount(count_pair_3_card_2_2_1, 4, 10, 16, 22, 28, 34)
var display_count_pair_4_card_1_games4 = displayCount(count_pair_4_card_2_2_1_1, 4, 10, 16, 22, 28, 34)

//last pair leads to display 
var display_count_pair_5_card_2_games4 = displayCount(count_pair_5_card_2_2_1_1_2, 4, 10, 16, 22, 28, 34)



// 8. Show deck and associated count depending on pair and game indes
var pair_1_deck_games4 = createDeck(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_2_deck_games4 = createDeck(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0)
var pair_3_deck_games4 = createDeck(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_4_deck_games4 = createDeck(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 0);
var pair_5_deck_games4 = createDeck(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 0);

// Display the deck
var display_pair_1_deck_games4 = displayDeck(pair_1_deck_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_deck_games4 = displayDeck(pair_2_deck_games4, 4, 10, 16, 22, 28, 34);
var display_pair_3_deck_games4 = displayDeck(pair_3_deck_games4, 4, 10, 16, 22, 28, 34);
var display_pair_4_deck_games4 = displayDeck(pair_4_deck_games4, 4, 10, 16, 22, 28, 34);
var display_pair_5_deck_games4 = displayDeck(pair_5_deck_games4, 4, 10, 16, 22, 28, 34);




//9. Show catch seen trial: 'have you seen this card?'

var pair_1_catch_seen_games4 = seenCatchTrial(pair_index = 0)
var pair_2_catch_seen_games4 = seenCatchTrial(pair_index = 1)
var pair_3_catch_seen_games4 = seenCatchTrial(pair_index = 2)
var pair_4_catch_seen_games4 = seenCatchTrial(pair_index = 4)
var pair_5_catch_seen_games4 = seenCatchTrial(pair_index = 5)

//Display the appropriate catch seen depending on past game index (passed_game_index = shuffled_games[trialIdx - 1])

var display_pair_1_catch_seen_games4 = displaySeenCatchTrial(pair_1_catch_seen_games4, 4, 10, 16, 22, 28, 34)
var display_pair_2_catch_seen_games4 = displaySeenCatchTrial(pair_2_catch_seen_games4, 4, 10, 16, 22, 28, 34)
var display_pair_3_catch_seen_games4 = displaySeenCatchTrial(pair_3_catch_seen_games4, 4, 10, 16, 22, 28, 34)
var display_pair_4_catch_seen_games4 = displaySeenCatchTrial(pair_4_catch_seen_games4, 4, 10, 16, 22, 28, 34)
var display_pair_5_catch_seen_games4 = displaySeenCatchTrial(pair_5_catch_seen_games4, 4, 10, 16, 22, 28, 34)


// ******************************************************
// ******** 5, 11, 17, 23, 29, 35 -> 2 - 1 - 1 - 2 - 1 **
// ******************************************************


// 1. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 2 from pair 1 + card 1 from pair 2 (2-1-1)
var pair_1_count_games5 = createPair(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_2_count_games5 = createPair(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_3_count_games5 = createPair(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_4_count_games5 = createPair(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_5_count_games5 = createPair(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1);



//Display created sum depending on game index
var display_pair_1_count_games5 = displayPair(pair_1_count_games5, 5, 11, 17, 23, 29, 35)
var display_pair_2_count_games5 = displayPair(pair_2_count_games5, 5, 11, 17, 23, 29, 35);
var display_pair_3_count_games5 = displayPair(pair_3_count_games5, 5, 11, 17, 23, 29, 35);
var display_pair_4_count_games5 = displayPair(pair_4_count_games5, 5, 11, 17, 23, 29, 35);
var display_pair_5_count_games5 = displayPair(pair_5_count_games5, 5, 11, 17, 23, 29, 35);




// 1.b. Show initial pairs and calculate count

//Create sum: initial count of 0 + count card 2 from pair 1 + card 1 from pair 2 (2-1-1)
var pair_1_count_with_key_games5 = createPairWithKey(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_2_count_with_key_games5 = createPairWithKey(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_3_count_with_key_games5 = createPairWithKey(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_4_count_with_key_games5 = createPairWithKey(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_5_count_with_key_games5 = createPairWithKey(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1);



//Display created sum depending on game index
var display_pair_1_count_with_key_games5 = displayPairWithKey(pair_1_count_with_key_games5, 5, 11, 17, 23, 29, 35)
var display_pair_2_count_with_key_games5 = displayPairWithKey(pair_2_count_with_key_games5, 5, 11, 17, 23, 29, 35);
var display_pair_3_count_with_key_games5 = displayPairWithKey(pair_3_count_with_key_games5, 5, 11, 17, 23, 29, 35);
var display_pair_4_count_with_key_games5 = displayPairWithKey(pair_4_count_with_key_games5, 5, 11, 17, 23, 29, 35);
var display_pair_5_count_with_key_games5 = displayPairWithKey(pair_5_count_with_key_games5, 5, 11, 17, 23, 29, 35);



// 2. Show suspense slider

//Create suspense slider
var pair_1_susp_slider_games5 = createPairSuspSlider(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_susp_slider_games5 = createPairSuspSlider(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_susp_slider_games5 = createPairSuspSlider(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_susp_slider_games5 = createPairSuspSlider(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_susp_slider_games5 = createPairSuspSlider(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)

//Display suspslider depending on game index
var display_pair_1_susp_slider_games5 = displayPairSuspSlider(pair_1_susp_slider_games5,5, 11, 17, 23, 29, 35)
var display_pair_2_susp_slider_games5 = displayPairSuspSlider(pair_2_susp_slider_games5,5, 11, 17, 23, 29, 35)
var display_pair_3_susp_slider_games5 = displayPairSuspSlider(pair_3_susp_slider_games5,5, 11, 17, 23, 29, 35)
var display_pair_4_susp_slider_games5 = displayPairSuspSlider(pair_4_susp_slider_games5,5, 11, 17, 23, 29, 35)
var display_pair_5_susp_slider_games5 = displayPairSuspSlider(pair_5_susp_slider_games5,5, 11, 17, 23, 29, 35)


//2.b. Click on card high

var pair_1_click_card_high_games5 = clickCardHigh(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_click_card_high_games5 = clickCardHigh(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_click_card_high_games5 = clickCardHigh(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_click_card_high_games5 = clickCardHigh(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_click_card_high_games5 = clickCardHigh(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)

//Display the click card depending on game index

var display_pair_1_click_card_high_games5 = displayClickCard(pair_1_click_card_high_games5, 5, 11, 17, 23, 29, 35)
var display_pair_2_click_card_high_games5 = displayClickCard(pair_2_click_card_high_games5, 5, 11, 17, 23, 29, 35)
var display_pair_3_click_card_high_games5 = displayClickCard(pair_3_click_card_high_games5, 5, 11, 17, 23, 29, 35)
var display_pair_4_click_card_high_games5 = displayClickCard(pair_4_click_card_high_games5, 5, 11, 17, 23, 29, 35)
var display_pair_5_click_card_high_games5 = displayClickCard(pair_5_click_card_high_games5, 5, 11, 17, 23, 29, 35)


//2.c. Click on card low
var pair_1_click_card_low_games5 = clickCardLow(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_click_card_low_games5 = clickCardLow(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_click_card_low_games5 = clickCardLow(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_click_card_low_games5 = clickCardLow(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_click_card_low_games5 = clickCardLow(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)

//Display the click card depending on game index
var display_pair_1_click_card_low_games5 = displayClickCard(pair_1_click_card_low_games5, 5, 11, 17, 23, 29, 35)
var display_pair_2_click_card_low_games5 = displayClickCard(pair_2_click_card_low_games5, 5, 11, 17, 23, 29, 35)
var display_pair_3_click_card_low_games5 = displayClickCard(pair_3_click_card_low_games5, 5, 11, 17, 23, 29, 35)
var display_pair_4_click_card_low_games5 = displayClickCard(pair_4_click_card_low_games5, 5, 11, 17, 23, 29, 35)
var display_pair_5_click_card_low_games5 = displayClickCard(pair_5_click_card_low_games5, 5, 11, 17, 23, 29, 35)







// 3. Show lottery and pair combinations

//GREEN
var pair_1_pure_lottery_green_games5 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_pure_lottery_green_games5 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_pure_lottery_green_games5 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_pure_lottery_green_games5 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_pure_lottery_green_games5 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)

//RED
var pair_1_pure_lottery_red_games5 = createPureLottery(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_pure_lottery_red_games5 = createPureLottery(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_pure_lottery_red_games5 = createPureLottery(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_pure_lottery_red_games5 = createPureLottery(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_pure_lottery_red_games5 = createPureLottery(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)

//Save the alternation of each pair with the lottery ending green
var pair_1_alternate_pure_lottery_end_green_games5 = alternatePureLotteryEndGreen(pair_1_pure_lottery_green_games5, pair_1_pure_lottery_red_games5)
var pair_2_alternate_pure_lottery_end_green_games5 = alternatePureLotteryEndGreen(pair_2_pure_lottery_green_games5, pair_2_pure_lottery_red_games5)
var pair_3_alternate_pure_lottery_end_green_games5 = alternatePureLotteryEndGreen(pair_3_pure_lottery_green_games5, pair_3_pure_lottery_red_games5)
var pair_4_alternate_pure_lottery_end_green_games5 = alternatePureLotteryEndGreen(pair_4_pure_lottery_green_games5, pair_4_pure_lottery_red_games5)
var pair_5_alternate_pure_lottery_end_green_games5 = alternatePureLotteryEndGreen(pair_5_pure_lottery_green_games5, pair_5_pure_lottery_red_games5)

//Save the alternation of each pair with the lottery ending red
var pair_1_alternate_pure_lottery_end_red_games5 = alternatePureLotteryEndRed(pair_1_pure_lottery_green_games5, pair_1_pure_lottery_red_games5)
var pair_2_alternate_pure_lottery_end_red_games5 = alternatePureLotteryEndRed(pair_2_pure_lottery_green_games5, pair_2_pure_lottery_red_games5)
var pair_3_alternate_pure_lottery_end_red_games5 = alternatePureLotteryEndRed(pair_3_pure_lottery_green_games5, pair_3_pure_lottery_red_games5)
var pair_4_alternate_pure_lottery_end_red_games5 = alternatePureLotteryEndRed(pair_4_pure_lottery_green_games5, pair_4_pure_lottery_red_games5)
var pair_5_alternate_pure_lottery_end_red_games5 = alternatePureLotteryEndRed(pair_5_pure_lottery_green_games5, pair_5_pure_lottery_red_games5)



//4. Show final card with lottery stop

//First pair ends up on RED
var display_pair_1_lottery_end_red_games5 = displayPureLotteryEnd(pair_1_alternate_pure_lottery_end_red_games5, 5, 11, 17, 23, 29, 35)

//next two pairs end up on GREEN
var display_pair_2_lottery_end_green_games5 = displayPureLotteryEnd(pair_2_alternate_pure_lottery_end_green_games5, 5, 11, 17, 23, 29, 35)
var display_pair_3_lottery_end_green_games5 = displayPureLotteryEnd(pair_3_alternate_pure_lottery_end_green_games5, 5, 11, 17, 23, 29, 35)

//next pair ends up on RED
var display_pair_4_lottery_end_red_games5 = displayPureLotteryEnd(pair_4_alternate_pure_lottery_end_red_games5, 5, 11, 17, 23, 29, 35)

//last pair ends up on GREEN
var display_pair_5_lottery_end_green_games5 = displayPureLotteryEnd(pair_5_alternate_pure_lottery_end_green_games5, 5, 11, 17, 23, 29, 35)


//5. Show final card and appropriate lottery

//Create pairs and lottery

//First pair ends up on RED
var pair_1_end_red_card_2_games5 = PureLotteryWithCard(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)

//Next 2 pairs end up on GREEN
var pair_2_end_green_card_1_games5 = PureLotteryWithCard(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_end_green_card_1_games5 = PureLotteryWithCard(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)

//Next pair ends up on RED
var pair_4_end_red_card_2_games5 = PureLotteryWithCard(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)

//Last pair ends up on GREEN
var pair_5_end_green_card_1_games5 = PureLotteryWithCard(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)


//Display appropriate pair ending and lottery 

//First pair ends up on RED
var display_pair_1_end_red_card_2_games5 = displayPureLotteryEndWithCard(pair_1_end_red_card_2_games5, 5, 11, 17, 23, 29, 35)

//Next 2 pairs end up on GREEN
var display_pair_2_end_green_card_1_games5 = displayPureLotteryEndWithCard(pair_2_end_green_card_1_games5, 5, 11, 17, 23, 29, 35)
var display_pair_3_end_green_card_1_games5 = displayPureLotteryEndWithCard(pair_3_end_green_card_1_games5, 5, 11, 17, 23, 29, 35)

//Next pair ends up on RED
var display_pair_4_end_red_card_2_games5 = displayPureLotteryEndWithCard(pair_4_end_red_card_2_games5, 5, 11, 17, 23, 29, 35)

//Last pair ends up on GREEN
var display_pair_5_end_green_card_1_games5 = displayPureLotteryEndWithCard(pair_5_end_green_card_1_games5, 5, 11, 17, 23, 29, 35)


//6. Display final card alone

//First pair leads to display card 2
var display_pair_1_card_2_games5 = displayCard(pair_1_card_2, 5, 11, 17, 23, 29, 35)

//Next two pairs lead to display card 1
var display_pair_2_card_1_games5 = displayCard(pair_2_card_1, 5, 11, 17, 23, 29, 35)
var display_pair_3_card_1_games5 = displayCard(pair_3_card_1, 5, 11, 17, 23, 29, 35)

//Next pair leads to display of card 2
var display_pair_4_card_2_games5 = displayCard(pair_4_card_2, 5, 11, 17, 23, 29, 35)

//Last pair leads to display of card 1
var display_pair_5_card_1_games5 = displayCard(pair_5_card_1, 5, 11, 17, 23, 29, 35)


//7. Calculate count for selected card

//First pair leads to display of card 2 count
var display_count_pair_1_card_2_games5 = displayCount(count_pair_1_card_2, 5, 11, 17, 23, 29, 35)

//Next two pairs lead to display of card 1 count
var display_count_pair_2_card_1_games5 = displayCount(count_pair_2_card_2_1, 5, 11, 17, 23, 29, 35)
var display_count_pair_3_card_1_games5 = displayCount(count_pair_3_card_2_1_1, 5, 11, 17, 23, 29, 35)

//Next pair leads to display of card 2 count
var display_count_pair_4_card_2_games5 = displayCount(count_pair_4_card_2_1_1_2, 5, 11, 17, 23, 29, 35)


//Last pair leads to display of card 1 count
var display_count_pair_5_card_1_games5 = displayCount(count_pair_5_card_2_1_1_2_1, 5, 11, 17, 23, 29, 35)


// 8. Show deck and associated count depending on pair and game indes
var pair_1_deck_games5 = createDeck(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_deck_games5 = createDeck(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_deck_games5 = createDeck(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_4_deck_games5 = createDeck(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1);
var pair_5_deck_games5 = createDeck(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 1, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1);

// Display the deck
var display_pair_1_deck_games5 = displayDeck(pair_1_deck_games5, 5, 11, 17, 23, 29, 35);
var display_pair_2_deck_games5 = displayDeck(pair_2_deck_games5, 5, 11, 17, 23, 29, 35);
var display_pair_3_deck_games5 = displayDeck(pair_3_deck_games5, 5, 11, 17, 23, 29, 35);
var display_pair_4_deck_games5 = displayDeck(pair_4_deck_games5, 5, 11, 17, 23, 29, 35);
var display_pair_5_deck_games5 = displayDeck(pair_5_deck_games5, 5, 11, 17, 23, 29, 35);



//9. Show catch seen trial: 'have you seen this card?'

var pair_1_catch_seen_games5 = seenCatchTrial(pair_index = 0)
var pair_2_catch_seen_games5 = seenCatchTrial(pair_index = 1)
var pair_3_catch_seen_games5 = seenCatchTrial(pair_index = 2)
var pair_4_catch_seen_games5 = seenCatchTrial(pair_index = 4)
var pair_5_catch_seen_games5 = seenCatchTrial(pair_index = 5)

//Display the appropriate catch seen depending on past game index (passed_game_index = shuffled_games[trialIdx - 1])

var display_pair_1_catch_seen_games5 = displaySeenCatchTrial(pair_1_catch_seen_games5, 5, 11, 17, 23, 29, 35)
var display_pair_2_catch_seen_games5 = displaySeenCatchTrial(pair_2_catch_seen_games5, 5, 11, 17, 23, 29, 35)
var display_pair_3_catch_seen_games5 = displaySeenCatchTrial(pair_3_catch_seen_games5, 5, 11, 17, 23, 29, 35)
var display_pair_4_catch_seen_games5 = displaySeenCatchTrial(pair_4_catch_seen_games5, 5, 11, 17, 23, 29, 35)
var display_pair_5_catch_seen_games5 = displaySeenCatchTrial(pair_5_catch_seen_games5, 5, 11, 17, 23, 29, 35)


// ******************************************************
// ******************* END OF TRIALS ********************
// ******************************************************


//Create satisfaction slider

var display_sat_slider = {
    type: jsPsychHtmlSliderResponse,
    stimulus: '<div> <br> Quel est votre niveau de satisfaction après avoir joué à cette partie ? <br> <br></div>',
    labels: ['Aucun', 'Moyen', 'Élevé'],
    min: 0,
    max: 100,
    start: 50,
    require_movement: true,
    response_ends_trial: true,
    slider_width: 600,
    css_classes: ['sliderup'],

    on_finish: function (data) {
    data.test_part = 'sat_rating';
    data.trial = trialIdx;
    data.game = shuffled_games[trialIdx]
    data.sat_response_time = data.rt;
    }
};


//create 'you won message'
var won_message = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: '<div class="text-container2">Vous avez gagné!!! ' + '</div>',
    choices: "NO_KEYS",
    trial_duration: 2000
}

//create 'you lost message'
var lost_message = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: '<div class="text-container2">Vous avez perdu!!! ' + '</div>',
    choices: "NO_KEYS",
    trial_duration: 2000
}

//Conditional variable if you won
var won = {
    timeline: [won_message],
     conditional_function: function () {
         if (stimuli_cond1_swapped[shuffled_games[trialIdx]][8][0] === 1){
            return true;
        } else {
            return false
        }
     }
}

//Conditional variable if you lost 
var lost = {
    timeline: [lost_message],
     conditional_function: function () {
         if (stimuli_cond1_swapped[shuffled_games[trialIdx]][8][0] === -1){
            return true;
        } else {
            return false
        }
     }
}



//Ready for next trial?, change trialIdx

var end_of_trial = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: '<div class="text-container4">Appuyez sur la touche espace quand vos êtes prêts! <br> <br> ' + '</div>',
    choices: " ",
    on_finish: function (data) {
        trialIdx = trialIdx +1;
    }
}




var ratingSaving = {
            type: jsPsychHtmlKeyboardResponse,
            stimulus: "Appuyez sur une touche pour continuer.",
            on_finish: function (data) {

                //Test game
                data.test_game = test_game

                //Game group selected
                data.group_selected = group_selected


                //Game type selected
                data.rating_selected = rating_selected

                //Game order
                data.shuffled_games = shuffled_games
                data.stimuli_cond1 = stimuli_cond1
                data.stimuli_cond1_swapped = stimuli_cond1_swapped
                
                
                //Catch Trials
                data.catch_index = catch_divisor

                
            },
        }



// ******************************************************
// ****************** TESTING PART **********************
// ******************************************************



//Create function to display deck and appropriate count according to round
function createDeck_test(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

var i_1 = pair_index_1 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_2 = pair_index_2 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_3 = pair_index_3 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_4 = pair_index_4 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_5 = pair_index_5 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var gameIndex = test_game;

if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
            var current_pair_index = pair_index + 1;
        } else if (pair_index == 4 || pair_index == 5) {
            var current_pair_index = pair_index;
        }

var deck = {
type: jsPsychHtmlKeyboardResponse,
stimulus: function (data) {
        
    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_4 = pair_index_4 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var gameIndex = test_game;

        if (gameIndex >= 0 && gameIndex <= game_number) {
            
            var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
        
    
            console.log(current_pair_index)
            console.log(amount_calculation)

            if (amount_calculation<3) {

                var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


            } else {

                var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
            }                      
            console.log(amount)
            var deck = '<div class="img3-container">' + selectImages(shuffleArray(stimuli_cond1_swapped[gameIndex][1])).join(' ')  +'</div>'
            return amount + deck;


        }
    },
    choices: "NO_KEYS", //'b'
    trial_duration: 3000
};

return deck;
}


function display_pair_test(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {
    
    var display_pair_test = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: function (data) {
            
            var gameIndex = test_game;
            var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
            var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
            } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
            }

            if (gameIndex >= 0 && gameIndex <= game_number) {
            
                var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

        
                console.log(current_pair_index)
                
              

                if (amount_calculation<3) {

                    var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';
                
                
                } else {
                
                    var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
                }
                
                console.log(amount)
                var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' ;
                var pairStimulus = '<div class="img-container2-wrapper">' + '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] +  '</div>' + '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] +  '</div>' +  '</div>';
                //var deck = '<div class="img4-container">' + selectImagesTiny(stimuli_cond1_swapped[gameIndex][1]).join('') +'</div>'
                return amount + images_circle + pairStimulus;

    
            }
        },
        choices: "NO_KEYS", //'b'
        trial_duration: 2000
    };

    return display_pair_test;
}



//Create function to create pairs 1, 2, 3 but with keyboard action
function display_pair_with_key_test(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {
    
    var display_pair = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: function (data) {
            
            var gameIndex = test_game;
            var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
            var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
            var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
            if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
            } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
            }

            if (gameIndex >= 0 && gameIndex <= game_number) {
            
                var amount_calculation = 0 
                + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
                + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
                + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
                + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

                console.log(current_pair_index)
                if (amount_calculation<3) {

                    var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


                    } else {

                    var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
                }
                console.log(amount)
                var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' ;
                var pairStimulus = '<div class="img-container2-wrapper">' + '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] +  '</div>' + '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] +  '</div>' +  '</div>' + '<br> Appuyez sur la touche espace pour lancer la loterie.';
                return amount + images_circle + pairStimulus;

    
            }
        },
        choices: " ", //'b'

    };

    return display_pair;
}




//Create function for the satisfaction version, so that subjects click on the greatest card

function clickCardHigh_test(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;

if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
    var current_pair_index = pair_index + 1;
} else if (pair_index == 4 || pair_index == 5) {
   var current_pair_index = pair_index;
}


var click_card_high = {
type: jsPsychHtmlButtonResponse,
stimulus: function (data) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;


if (gameIndex >= 0 && gameIndex <= game_number) {
        var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

    
    if (amount_calculation<3) {

        var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


    } else {

        var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
    }            
    
    var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' + '<br>' 
    var pairStimulus =  '<div> <br> Quelle carte a la valeur la plus élevée? <br> <br> </div>' + '<div class="img-container2-wrapper">' + 
                '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' + '</div>'
    return amount + images_circle + pairStimulus; // Concatenate both stimuli
}
},
choices: ['<div class="text-container8">Carte 1 </div>', '<div class="text-container8">Carte 2 </div>', '<div class="text-container8">Aucune </div>'],
margin_horizontal: '20px',
margin_vertical: '15px',
on_finish: function (data) {
data.test_part = 'catch_click_high_test';
data.trial_test = trialIdx;
data.game_test  = gameIndex
data.pair_number_test = pair_index
data.click_high_response_time_test = data.rt;
data.click_high_deck_test = stimuli_cond1_swapped[gameIndex][0];
data.click_high_pair_test = stimuli_cond1_swapped[gameIndex][i]; //save pair real value  
data.click_high_pair_index_test = stimuli_cond1_swapped[gameIndex][i] //save pair index
}
};

return click_card_high

}




//Create function for the satisfaction version, so that subjects click on the lowest card

function clickCardLow_test(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;

if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
var current_pair_index = pair_index + 1;
} else if (pair_index == 4 || pair_index == 5) {
var current_pair_index = pair_index;
}


var click_card_low = {
type: jsPsychHtmlButtonResponse,
stimulus: function (data) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;


if (gameIndex >= 0 && gameIndex <= game_number) {
    var amount_calculation = 0 
        + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
        + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
        + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
        + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];

if (amount_calculation<3) {

    var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


} else {

    var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
}            

var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' + '<br>' 
var pairStimulus =  '<div> <br> Quelle carte a la valeur la moins élevée? <br> <br> </div>' + '<div class="img-container2-wrapper">' + 
            '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
            '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' + '</div>'
return amount + images_circle + pairStimulus; // Concatenate both stimuli
}
},
choices: ['<div class="text-container8">Carte 1 </div>', '<div class="text-container8">Carte 2 </div>', '<div class="text-container8">Aucune </div>'],
margin_horizontal: '20px',
margin_vertical: '15px',
on_finish: function (data) {
data.test_part = 'catch_click_low_test';
data.trial_test = trialIdx;
data.game_test = gameIndex
data.pair_number_test = pair_index
data.click_low_response_time_test = data.rt;
data.click_low_deck_test = stimuli_cond1_swapped[gameIndex][0];
data.click_low_pair_test = stimuli_cond1_swapped[gameIndex][i]; //save pair real value  
data.click_low_pair_index_test = stimuli_cond1_swapped[gameIndex][i] //save pair index
}
};

return click_card_low

}




//Create function to create suspense slider
function createPairSuspSlider_test (pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;

if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
    var current_pair_index = pair_index + 1;
} else if (pair_index == 4 || pair_index == 5) {
    var current_pair_index = pair_index;
}


var display_pair_susp = {
type: jsPsychHtmlSliderResponse,
stimulus: function (data) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;


    if (gameIndex >= 0 && gameIndex <= game_number) {
        var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];


        if (amount_calculation<3) {

            var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


            } else {

            var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
        }            
        
        var images_circle = '<img src="img/new_greenAndred_circle.png" class="img2">' + '<br>' + '<br>'+ '<br>'
        var pairStimulus = '<div class="img-container2-wrapper">' + 
                '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' +
                '</div>' +'<div> <br> Quel est votre niveau de suspense? <br> </div>'; 
        return amount + images_circle + pairStimulus;
    }
},
labels: ['Aucun', 'Moyen', 'Élevé'],
min: 0,
max: 100,
start: 50,
require_movement: true,
response_ends_trial: true,
slider_width: 600,
css_classes: ['sliderup'],

on_finish: function (data) {
data.test_part = 'susp_rating_test';
data.trial_test = trialIdx;
data.game_test = gameIndex
data.pair_number_test = pair_index
data.susp_response_time_test = data.rt;
data.susp_deck_test = stimuli_cond1_swapped[gameIndex][0];
data.susp_pair_test = stimuli_cond1_swapped[gameIndex][i]; //save pair real value  
data.susp_pair_index_test = stimuli_cond1_swapped[gameIndex][i] //save pair index
//data.count = amount    -> does not work
}
};

return display_pair_susp

}



//Create function to display count, pure lottery and pair
function createPureLottery_test(pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, stim, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value   
var gameIndex = test_game;
if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
    var current_pair_index = pair_index + 1;
} else if (pair_index == 4 || pair_index == 5) {
    var current_pair_index = pair_index;
}


var pure_lottery = {
type: jsPsychHtmlKeyboardResponse,
stimulus: function (data) {

var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
var gameIndex = test_game;


if (gameIndex >= 0 && gameIndex <= game_number) {
    var amount_calculation = 0 
        + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
        + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
        + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
        + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
    console.log(amount_calculation)
    if (amount_calculation<3) {

        var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


    } else {

        var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
    }        
    
    var altStimulus = stimulus_to_alt[stim]; // Get stimulus_to_alt[0]
    var pairStimulus = '<div class="img-container2-wrapper">' + 
                '<div class="img-container2 left">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[0] + '</div>' +
                '<div class="img-container2 right">' + selectImages(stimuli_cond1_swapped[gameIndex][i])[1] + '</div>' 
    return amount + altStimulus + pairStimulus; // Concatenate both stimuli
}
},
choices: "NO_KEYS",
trial_duration: 100
};

return pure_lottery

}



//Create function to create appropriate lottery color display + final card
function PureLotteryWithCard_test (pair_index, pair_index_1, pair_index_2, card_index_1, m, k, card_index_2, stim, card_index, pair_index_3, pair_index_4, j, h, card_index_3, card_index_4) {
    var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
    var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
    var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
    var gameIndex = test_game;
    
    if (pair_index == 0 || pair_index == 1 || pair_index == 2) {
                var current_pair_index = pair_index + 1;
    } else if (pair_index == 4 || pair_index == 5) {
                var current_pair_index = pair_index;
    }


    var pure_lottery_with_card= {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function (data) {

        var i = pair_index * 2 + 3; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
        var i_1 = pair_index_1 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
        var i_2 = pair_index_2 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
        var i_3 = pair_index_3 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_1] value
        var i_4 = pair_index_4 * 2 + 2; // Index i of stimuli_cond1_swapped[gameIndex][i_2] value
        var gameIndex = test_game;

        if (gameIndex >= 0 && gameIndex <= game_number) {
            var amount_calculation = 0 
            + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
            + j * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + h * stimuli_cond1_swapped[gameIndex][i_4][card_index_4];
            console.log(amount_calculation)

            if (amount_calculation<3) {

                var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container9">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br> Limite = 3' + '</div>';


            } else {

                var amount = '<div class="text-container5"> Manche ' + 'test ' + current_pair_index + '</div>' + '<div class="text-container10">Compte = ' + amount_calculation + '</div>' + '<div class="text-container3 "' + '<br> <br>Limite = 3' + '</div>';
            }            
            
            var altStimulus = stimulus_to_alt[stim]; // Get stimulus_to_alt[1]
            console.log(altStimulus)
            console.log(stimulus_to_alt[stim])

            if (card_index == 0) {

                var cardStimulus = '<div class="img-container2-wrapper">' +   '<div class="img-container2 left_end ">' +images_Exp[stimuli_cond1_swapped[gameIndex][i][0]] + '</div>'  + '<div class="img-container2 right">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][1]] + '</div>' + '</div>';

            } else if (card_index == 1) {

                var cardStimulus = '<div class="img-container2-wrapper">'  + '<div class="img-container2 left">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][0]] + '</div>' +  '<div class="img-container2 right_end">' + images_Exp[stimuli_cond1_swapped[gameIndex][i][1]] + '</div>' + '</div>' ;
            }
            console.log(cardStimulus)

            return amount + altStimulus + cardStimulus; // Concatenate both stimuli
        }
    },
    choices:"NO_KEYS", //'b'
    trial_duration: 2000,
    on_finish: function (data) {
        data.card_stimulus_test = images_Exp[stimuli_cond1_swapped[gameIndex][i][card_index]],
        data.count_test = 0 + m * stimuli_cond1_swapped[gameIndex][i_1][card_index_1] + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2]
    }
};

return pure_lottery_with_card


}




//Create function to calculate final count for selected card
function count_pair_test (pair_index_1, pair_index_2, pair_index_3, card_index_1, k, card_index_2, l, card_index_3, pair_index_4, pair_index_5, j, card_index_4, h, card_index_5) {

var i_1 = pair_index_1 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_2 = pair_index_2 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_3 = pair_index_3 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_4 = pair_index_4 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var i_5 = pair_index_5 * 2 + 2; //index i of stimuli_cond1_swapped[gameIndex][i] should be 3, 5, 7 to get the cards indexes
var gameIndex = test_game;

var count = {
type: jsPsychHtmlKeyboardResponse,
stimulus: function (data) {
    var gameIndex = test_game;
    if (gameIndex >= 0 && gameIndex <= game_number) {
        
   var amount = stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
            + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2] 
            + l * stimuli_cond1_swapped[gameIndex][i_3][card_index_3]
            + j * stimuli_cond1_swapped[gameIndex][i_4][card_index_4]
            + h * stimuli_cond1_swapped[gameIndex][i_5][card_index_5]
        
    if (amount < 3) {
        return ['<div class="text-container6">Compte = ' + amount +'</div>'];
    } else {
        return ['<div class="text-container7">Compte = ' + amount +'</div>'];
    }

        
    }    
    
},
choices:  "NO_KEYS", //'b'
trial_duration: 2000,
on_finish: function (data) {
    data.count_end_of_trial = stimuli_cond1_swapped[gameIndex][i_1][card_index_1] 
    + k * stimuli_cond1_swapped[gameIndex][i_2][card_index_2] 
    + l * stimuli_cond1_swapped[gameIndex][i_3][card_index_3] 
    + j * stimuli_cond1_swapped[gameIndex][i_4][card_index_4] 
    + h * stimuli_cond1_swapped[gameIndex][i_5][card_index_5]
}
};

return count
}



//Conditional variable if you won
var won_test = {
    timeline: [won_message],
     conditional_function: function () {
         if (stimuli_cond1_swapped[test_game][8][0] === 1){
            return true;
        } else {
            return false
        }
     }
}

//Conditional variable if you lost 
var lost_test = {
    timeline: [lost_message],
     conditional_function: function () {
         if (stimuli_cond1_swapped[test_game][8][0] === -1){
            return true;
        } else {
            return false
        }
     }
}



//Create satisfaction slider

var display_sat_slider_test = {
    type: jsPsychHtmlSliderResponse,
    stimulus: '<div> <br> Quel est votre niveau de satisfaction après avoir joué à cette partie ? <br> <br></div>',
    labels: ['Aucun', 'Moyen', 'Élevé'],
    min: 0,
    max: 100,
    start: 50,
    require_movement: true,
    response_ends_trial: true,
    slider_width: 600,
    css_classes: ['sliderup'],

    on_finish: function (data) {
    data.test_part = 'sat_rating_test';
    data.trial_test = trialIdx;
    data.game_test = shuffled_games[trialIdx]
    data.sat_response_time_test = data.rt;
    }
};




display_round_test_1 = createRoundDisplay("test 1")
display_round_test_2 = createRoundDisplay("test 2")
display_round_test_3 = createRoundDisplay("test 3")
display_round_test_4 = createRoundDisplay("test 4")




var pair_1_deck_test = createDeck_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_2_deck_test = createDeck_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_3_deck_test = createDeck_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_4_deck_test = createDeck_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_5_deck_test = createDeck_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)



var pair_1_test = display_pair_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_2_test = display_pair_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_3_test = display_pair_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_4_test = display_pair_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_5_test = display_pair_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)

var pair_1_with_key_test = display_pair_with_key_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_2_with_key_test = display_pair_with_key_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_3_with_key_test = display_pair_with_key_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_4_with_key_test = display_pair_with_key_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)
var pair_5_with_key_test = display_pair_with_key_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)



var susp_pair_1_test = createPairSuspSlider_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var susp_pair_2_test = createPairSuspSlider_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var susp_pair_3_test = createPairSuspSlider_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var susp_pair_4_test = createPairSuspSlider_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)
var susp_pair_5_test = createPairSuspSlider_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)



var pair_1_click_card_high_test = clickCardHigh_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h= 0, card_index_3 = 0, card_index_4 = 1)
var pair_2_click_card_high_test = clickCardHigh_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_click_card_high_test = clickCardHigh_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_click_card_high_test = clickCardHigh_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_click_card_high_test = clickCardHigh_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)


var pair_1_click_card_low_test = clickCardLow_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_2_click_card_low_test = clickCardLow_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_3_click_card_low_test = clickCardLow_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_4_click_card_low_test = clickCardLow_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =0, card_index_3 = 0, card_index_4 = 1)
var pair_5_click_card_low_test = clickCardLow_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h =1, card_index_3 = 0, card_index_4 = 1)



var lottery_green_pair_1_test = createPureLottery_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_green_pair_2_test = createPureLottery_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_green_pair_3_test = createPureLottery_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_green_pair_4_test = createPureLottery_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_green_pair_5_test = createPureLottery_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)


var lottery_red_pair_1_test = createPureLottery_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_red_pair_2_test = createPureLottery_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_red_pair_3_test = createPureLottery_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_red_pair_4_test = createPureLottery_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_red_pair_5_test = createPureLottery_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)


var lottery_end_green_pair_1_test = alternatePureLotteryEndGreen(lottery_green_pair_1_test, lottery_red_pair_1_test)
var lottery_end_green_pair_2_test = alternatePureLotteryEndGreen(lottery_green_pair_2_test, lottery_red_pair_2_test)
var lottery_end_green_pair_3_test = alternatePureLotteryEndGreen(lottery_green_pair_3_test, lottery_red_pair_3_test)
var lottery_end_red_pair_4_test = alternatePureLotteryEndRed(lottery_green_pair_4_test, lottery_red_pair_4_test)
var lottery_end_red_pair_5_test = alternatePureLotteryEndRed(lottery_green_pair_5_test, lottery_red_pair_5_test)


var lottery_end_green_pair_1_with_card_test = PureLotteryWithCard_test(pair_index = 0, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 0, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_end_green_pair_2_with_card_test = PureLotteryWithCard_test(pair_index = 1, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 0, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_end_green_pair_3_with_card_test = PureLotteryWithCard_test(pair_index = 2, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 1, card_index = 0, pair_index_3 = 2, pair_index_4 = 4, j = 0, h = 0, card_index_3 = 0, card_index_4 = 1)
var lottery_end_green_pair_4_with_card_test = PureLotteryWithCard_test(pair_index = 4, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 0, card_index_3 = 0, card_index_4 = 1)                               
var lottery_end_green_pair_5_with_card_test = PureLotteryWithCard_test(pair_index = 5, pair_index_1 = 0, pair_index_2 = 1, card_index_1 = 0, m = 1, k = 1, card_index_2 = 0, stim = 0, card_index = 1, pair_index_3 = 2, pair_index_4 = 4, j = 1, h = 1, card_index_3 = 0, card_index_4 = 1)


var pair_test_1_count = count_pair_test(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 0, card_index_2 = 0, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 1, h = 0, card_index_5 = 1)
var pair_test_2_count = count_pair_test(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 0, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 1, h = 0, card_index_5 = 1)
var pair_test_3_count = count_pair_test(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 0, card_index_4 = 1, h = 0, card_index_5 = 1)
var pair_test_4_count = count_pair_test(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 0, card_index_5 = 1)
var pair_test_5_count = count_pair_test(pair_index_1 = 0, pair_index_2 = 1, pair_index_3 = 2, card_index_1 = 0, k = 1, card_index_2 = 0, l = 1, card_index_3 = 0, pair_index_4 = 4, pair_index_5 = 5, j = 1, card_index_4 = 1, h = 1, card_index_5 = 1)


//PUSH TO TIMELINE

//INSTRUCTIONS

var general_instructions = {
    timeline: [welcome, instruct1]
}

var susp_instructions = {
    timeline:[htmlStringSusp1, htmlStringSusp2, htmlStringSusp3, htmlStringSusp4, htmlStringSusp5]
}

var sat_instructions = {
    timeline:[htmlStringSat1, htmlStringSat2, htmlStringSat3, htmlStringSat4, htmlStringSat5, htmlStringSat6]
}


var timeline_susp_test = {
    
    timeline: [


        // *******************************************************
        // ***************** COMMON VARIABLES ********************
        // *******************************************************

    
        //Preload images, display initial round and count info  
        preload_images,

        //Display instructions
        //general_instructions,
        //susp_instructions,

        
        // *******************************************************
        // ******************** TEST ROUND ***********************
        // *******************************************************
        
        //PAIR 1 TEST
        display_round_test_1,
        display_count_0,
        
        pair_1_deck_test,
        shuffle,
        pair_1_test,
        susp_pair_1_test,
        lottery_end_green_pair_1_test,
        lottery_end_green_pair_1_with_card_test,
        pair_test_1_count,
        
        //PAIR 2 TEST
        display_round_test_2,
        pair_2_deck_test,
        shuffle,
        pair_2_test,
        susp_pair_2_test,
        lottery_end_green_pair_2_test,
        lottery_end_green_pair_2_with_card_test,
        pair_test_2_count,
        

        //PAIR 3 TEST
        display_round_test_3,
        pair_3_deck_test,
        shuffle,
        pair_3_test,
        susp_pair_3_test,
        lottery_end_green_pair_3_test,
        lottery_end_green_pair_3_with_card_test,
        pair_test_3_count,
        

        //PAIR 4 TEST
        display_round_test_4,
        pair_4_deck_test,
        shuffle,
        pair_4_test, 
        susp_pair_4_test,
        lottery_end_red_pair_4_test,
        lottery_end_green_pair_4_with_card_test,
        pair_test_4_count,


        //PAIR 5 TEST
        display_round_5,
        pair_5_deck_test,
        shuffle,
        pair_5_test,
        susp_pair_5_test,
        lottery_end_red_pair_5_test,
        lottery_end_green_pair_5_with_card_test,
        pair_test_5_count,

        won_test,
        lost_test,

        htmlStringSusp6

],

repetitions: 1

}


var timeline_procedure_susp = {


    timeline: [
  
        // *******************************************************
        // ******************** PAIR 1 ***************************
        // *******************************************************


        display_round_1,
        display_count_0,

        //Display deck with pair 1 count
        display_pair_1_deck_games0,
        display_pair_1_deck_games1,
        display_pair_1_deck_games2,
        display_pair_1_deck_games3,
        display_pair_1_deck_games4,
        display_pair_1_deck_games5,

    
        //Display back of deck
        //display_cards_back,


        //Display shuffle animation
        shuffle,


        //Display initial pair 1
        display_pair_1_count_games0,
        display_pair_1_count_games1,
        display_pair_1_count_games2,
        display_pair_1_count_games3,
        display_pair_1_count_games4,
        display_pair_1_count_games5,
    
    
        //Display suspense slider
        display_pair_1_susp_slider_games0,
        display_pair_1_susp_slider_games1,
        display_pair_1_susp_slider_games2,
        display_pair_1_susp_slider_games3,
        display_pair_1_susp_slider_games4,
        display_pair_1_susp_slider_games5,

        //Coul add the lottery clicking here if needed

    
        //Display correct card and lottery color depending on game index
        display_pair_1_lottery_end_green_games0,
        display_pair_1_lottery_end_green_games1,
        display_pair_1_lottery_end_green_games2,
        display_pair_1_lottery_end_red_games3,
        display_pair_1_lottery_end_red_games4,
        display_pair_1_lottery_end_red_games5,

    
        //Display lottery ending with correct card depending on game index
        display_pair_1_end_green_card_1_games0,
        display_pair_1_end_green_card_1_games1,
        display_pair_1_end_green_card_1_games2,
        display_pair_1_end_red_card_2_games3,
        display_pair_1_end_red_card_2_games4,
        display_pair_1_end_red_card_2_games5,


        //Display the correct card (1 or 2) to add to count depending on game index
        display_pair_1_card_1_games0,
        display_pair_1_card_1_games1,
        display_pair_1_card_1_games2,
        display_pair_1_card_2_games3,
        display_pair_1_card_2_games4,
        display_pair_1_card_2_games5,


        //Display the correct count to add depending on game index
        display_count_pair_1_card_1_games0,
        display_count_pair_1_card_1_games1,
        display_count_pair_1_card_1_games2,
        display_count_pair_1_card_2_games3,
        display_count_pair_1_card_2_games4,
        display_count_pair_1_card_2_games5,





        // *******************************************************
        // ******************** PAIR 2 ***************************
        // *******************************************************
        
        //Display the information on round number
        display_round_2,
        

        //Display deck with pair 2 count
        display_pair_2_deck_games0,
        display_pair_2_deck_games1,
        display_pair_2_deck_games2,
        display_pair_2_deck_games3,
        display_pair_2_deck_games4,
        display_pair_2_deck_games5,

    
        //Display back of cards
        //display_cards_back,


        //Display shuffle animation
        shuffle,


        //Display initial pair 2
        display_pair_2_count_games0,
        display_pair_2_count_games1,
        display_pair_2_count_games2,
        display_pair_2_count_games3,
        display_pair_2_count_games4,
        display_pair_2_count_games5,


        //Display suspense slider
        display_pair_2_susp_slider_games0,
        display_pair_2_susp_slider_games1,
        display_pair_2_susp_slider_games2,
        display_pair_2_susp_slider_games3,
        display_pair_2_susp_slider_games4,
        display_pair_2_susp_slider_games5,


        //Display correct card and lottery color depending on game index
        display_pair_2_lottery_end_green_games0,
        display_pair_2_lottery_end_green_games1,
        display_pair_2_lottery_end_red_games2,
        display_pair_2_lottery_end_red_games3,
        display_pair_2_lottery_end_red_games4,
        display_pair_2_lottery_end_green_games5,

    
        //Display correct ending card depending on game index
        display_pair_2_end_green_card_1_games0,
        display_pair_2_end_green_card_1_games1,
        display_pair_2_end_red_card_2_games2,
        display_pair_2_end_red_card_2_games3,
        display_pair_2_end_red_card_2_games4,
        display_pair_2_end_green_card_1_games5,


        //Display the correct card (1 or 2) to add to count depending on game index
        display_pair_2_card_1_games0,
        display_pair_2_card_1_games1,
        display_pair_2_card_2_games2,
        display_pair_2_card_2_games3,
        display_pair_2_card_2_games4,
        display_pair_2_card_1_games5,


        //Display the correct count to add depending on game index
        display_count_pair_2_card_1_games0,
        display_count_pair_2_card_1_games1,
        display_count_pair_2_card_2_games2,
        display_count_pair_2_card_2_games3,
        display_count_pair_2_card_2_games4,
        display_count_pair_2_card_1_games5,

    
        // *******************************************************
        // ******************** PAIR 3 ***************************
        // *******************************************************

    
        //Display round number information
        display_round_3,
        

        //Display deck with pair 3 count
        display_pair_3_deck_games0,
        display_pair_3_deck_games1,
        display_pair_3_deck_games2,
        display_pair_3_deck_games3,
        display_pair_3_deck_games4,
        display_pair_3_deck_games5,
    
    
        //Display back of cards
        //display_cards_back,


        //Display shuffling animation
        shuffle,

    
        //Display pair 3 with count depending on game index
        display_pair_3_count_games0,
        display_pair_3_count_games1,
        display_pair_3_count_games2,
        display_pair_3_count_games3,
        display_pair_3_count_games4,
        display_pair_3_count_games5,

        //Display suspense slider
        display_pair_3_susp_slider_games0,
        display_pair_3_susp_slider_games1,
        display_pair_3_susp_slider_games2,
        display_pair_3_susp_slider_games3,
        display_pair_3_susp_slider_games4,
        display_pair_3_susp_slider_games5,


        //Display correct card and lottery color depending on game index
        display_pair_3_lottery_end_green_games0,
        display_pair_3_lottery_end_red_games1,
        display_pair_3_lottery_end_red_games2,
        display_pair_3_lottery_end_red_games3,
        display_pair_3_lottery_end_green_games4,
        display_pair_3_lottery_end_green_games5,


        //Display correct ending card depending on game index
        display_pair_3_end_green_card_1_games0,
        display_pair_3_end_red_card_2_games1,
        display_pair_3_end_red_card_2_games2,
        display_pair_3_end_red_card_2_games3,
        display_pair_3_end_green_card_1_games4,
        display_pair_3_end_green_card_1_games5,


        //Display the correct card (1 or 2) to add to count depending on game index
        display_pair_3_card_1_games0,
        display_pair_3_card_2_games1,
        display_pair_3_card_2_games2,
        display_pair_3_card_2_games3,
        display_pair_3_card_1_games4,
        display_pair_3_card_1_games5,
    

        //Display the correct count to add depending on game index
        display_count_pair_3_card_1_games0,
        display_count_pair_3_card_2_games1,
        display_count_pair_3_card_2_games2,
        display_count_pair_3_card_2_games3,
        display_count_pair_3_card_1_games4,
        display_count_pair_3_card_1_games5,





        // *******************************************************
        // ******************** PAIR 4 ***************************
        // *******************************************************


        //Display round number information
        display_round_4,

        

        //Display deck with pair 3 count
        display_pair_4_deck_games0,
        display_pair_4_deck_games1,
        display_pair_4_deck_games2,
        display_pair_4_deck_games3,
        display_pair_4_deck_games4,
        display_pair_4_deck_games5,


        //Display shuffling animation
        shuffle,


        //Display pair 4 with count depending on game index
        display_pair_4_count_games0,
        display_pair_4_count_games1,
        display_pair_4_count_games2,
        display_pair_4_count_games3,
        display_pair_4_count_games4,
        display_pair_4_count_games5,


        display_pair_4_susp_slider_games0,
        display_pair_4_susp_slider_games1,
        display_pair_4_susp_slider_games2,
        display_pair_4_susp_slider_games3,
        display_pair_4_susp_slider_games4,
        display_pair_4_susp_slider_games5,

        display_pair_4_lottery_end_red_games0,
        display_pair_4_lottery_end_red_games1,
        display_pair_4_lottery_end_green_games2,
        display_pair_4_lottery_end_green_games3,
        display_pair_4_lottery_end_green_games4,
        display_pair_4_lottery_end_red_games5,


        display_pair_4_end_red_card_2_games0,
        display_pair_4_end_red_card_2_games1,
        display_pair_4_end_green_card_1_games2,
        display_pair_4_end_green_card_1_games3,
        display_pair_4_end_green_card_1_games4,
        display_pair_4_end_red_card_2_games5,

        display_pair_4_card_2_games0,
        display_pair_4_card_2_games1,
        display_pair_4_card_1_games2,
        display_pair_4_card_1_games3,
        display_pair_4_card_1_games4,
        display_pair_4_card_2_games5,

        display_count_pair_4_card_2_games0,
        display_count_pair_4_card_2_games1,
        display_count_pair_4_card_1_games2,
        display_count_pair_4_card_1_games3,
        display_count_pair_4_card_1_games4,
        display_count_pair_4_card_2_games5,




        // *******************************************************
        // ******************** PAIR 5 ***************************
        // *******************************************************


        //Display round number information
        display_round_5,
        

        //Display deck with pair 3 count
        display_pair_5_deck_games0,
        display_pair_5_deck_games1,
        display_pair_5_deck_games2,
        display_pair_5_deck_games3,
        display_pair_5_deck_games4,
        display_pair_5_deck_games5,


        //Display shuffling animation
        shuffle,

    
        //Display pair 4 with count depending on game index
        display_pair_5_count_games0,
        display_pair_5_count_games1,
        display_pair_5_count_games2,
        display_pair_5_count_games3,
        display_pair_5_count_games4,
        display_pair_5_count_games5,


        display_pair_5_susp_slider_games0,
        display_pair_5_susp_slider_games1,
        display_pair_5_susp_slider_games2,
        display_pair_5_susp_slider_games3,
        display_pair_5_susp_slider_games4,
        display_pair_5_susp_slider_games5,


        display_pair_5_lottery_end_red_games0,
        display_pair_5_lottery_end_green_games1,
        display_pair_5_lottery_end_red_games2,
        display_pair_5_lottery_end_green_games3,
        display_pair_5_lottery_end_red_games4,
        display_pair_5_lottery_end_green_games5,


        display_pair_5_end_red_card_2_games0,
        display_pair_5_end_green_card_1_games1,
        display_pair_5_end_red_card_2_games2,
        display_pair_5_end_green_card_1_games3,
        display_pair_5_end_red_card_2_games4,
        display_pair_5_end_green_card_1_games5,


        display_pair_5_card_2_games0,
        display_pair_5_card_1_games1,
        display_pair_5_card_2_games2,
        display_pair_5_card_1_games3,
        display_pair_5_card_2_games4,
        display_pair_5_card_1_games5,

        display_count_pair_5_card_2_games0,
        display_count_pair_5_card_1_games1,
        display_count_pair_5_card_2_games2,
        display_count_pair_5_card_1_games3,
        display_count_pair_5_card_2_games4,
        display_count_pair_5_card_1_games5,


        //Display winning or losing mesage
        won,
        lost,

        //Display catch trials
        //pair 1 for games0, pair 2 for games 1, pair 3 for games 2, pair 1 for games 3, pair 2 for games 4, pair 3 for games 5
        display_pair_1_catch_seen_games0,
        display_pair_2_catch_seen_games1,
        display_pair_3_catch_seen_games2,
        display_pair_1_catch_seen_games3,
        display_pair_2_catch_seen_games4,
        display_pair_3_catch_seen_games5,

        //Display end of trial message and update trialIdx
        end_of_trial

  
    
],

repetitions: 18

}





var timeline_sat_test = {
    
    timeline: [


        // *******************************************************
        // ***************** COMMON VARIABLES ********************
        // *******************************************************

    
        //Preload images, display initial round and count info  
        preload_images,

        //Display instructions
        //general_instructions,
        //susp_instructions,

        
        // *******************************************************
        // ******************** TEST ROUND ***********************
        // *******************************************************
        
        //PAIR 1 TEST
        display_round_test_1,
        display_count_0,
        
        pair_1_deck_test,
        shuffle,
        pair_1_test,
        pair_1_click_card_high_test,
        pair_1_click_card_low_test,
        pair_1_with_key_test,
        lottery_end_green_pair_1_test,
        lottery_end_green_pair_1_with_card_test,
        pair_test_1_count,
        
        //PAIR 2 TEST
        display_round_test_2,
        pair_2_deck_test,
        shuffle,
        pair_2_test,
        pair_2_click_card_high_test,
        pair_2_click_card_low_test,
        pair_2_with_key_test,
        lottery_end_green_pair_2_test,
        lottery_end_green_pair_2_with_card_test,
        pair_test_2_count,
        

        //PAIR 3 TEST
        display_round_test_3,
        pair_3_deck_test,
        shuffle,
        pair_3_test,
        pair_3_click_card_high_test,
        pair_3_click_card_low_test,
        pair_3_with_key_test,
        lottery_end_green_pair_3_test,
        lottery_end_green_pair_3_with_card_test,
        pair_test_3_count,
        

        //PAIR 4 TEST
        display_round_test_4,
        pair_4_deck_test,
        shuffle,
        pair_4_test, 
        pair_4_click_card_high_test,
        pair_4_click_card_low_test,
        pair_4_with_key_test,
        lottery_end_red_pair_4_test,
        lottery_end_green_pair_4_with_card_test,
        pair_test_4_count,


        //PAIR 5 TEST
        display_round_5,
        pair_5_deck_test,
        shuffle,
        pair_5_test,
        pair_5_click_card_high_test,
        pair_5_click_card_low_test,
        pair_5_with_key_test,
        lottery_end_red_pair_5_test,
        lottery_end_green_pair_5_with_card_test,
        pair_test_5_count,

        display_sat_slider_test,

        won_test,
        lost_test,

        htmlStringSat7

],

repetitions: 1

}




var timeline_procedure_sat = {


timeline: [


    // *******************************************************
    // ***************** COMMON VARIABLES ********************
    // *******************************************************

  


    //Preload images, display initial round and count info  
    preload_images,
    display_round_1,
    display_count_0,



    // *******************************************************
    // ******************** PAIR 1 ***************************
    // *******************************************************


    //Display deck with pair 1 count
    display_pair_1_deck_games0,
    display_pair_1_deck_games1,
    display_pair_1_deck_games2,
    display_pair_1_deck_games3,
    display_pair_1_deck_games4,
    display_pair_1_deck_games5,


    //Display back of cards
    //display_cards_back,


    //Display shuffling animation
    shuffle,



    //Display initial pair 1
    display_pair_1_count_games0,
    display_pair_1_count_games1,
    display_pair_1_count_games2,
    display_pair_1_count_games3,
    display_pair_1_count_games4,
    display_pair_1_count_games5,

    


    //Display the clicking on card high or low 
    display_pair_1_click_card_high_games0,
    display_pair_1_click_card_high_games1,
    display_pair_1_click_card_high_games2,
    display_pair_1_click_card_high_games3,
    display_pair_1_click_card_high_games4,
    display_pair_1_click_card_high_games5,

    display_pair_1_click_card_low_games0,
    display_pair_1_click_card_low_games1,
    display_pair_1_click_card_low_games2,
    display_pair_1_click_card_low_games3,
    display_pair_1_click_card_low_games4,
    display_pair_1_click_card_low_games5,


    //Display initial pair 1 with key press to start lottery
    display_pair_1_count_with_key_games0,
    display_pair_1_count_with_key_games1,
    display_pair_1_count_with_key_games2,
    display_pair_1_count_with_key_games3,
    display_pair_1_count_with_key_games4,
    display_pair_1_count_with_key_games5,


    //Display correct card and lottery color depending on game index
    display_pair_1_lottery_end_green_games0,
    display_pair_1_lottery_end_green_games1,
    display_pair_1_lottery_end_green_games2,
    display_pair_1_lottery_end_red_games3,
    display_pair_1_lottery_end_red_games4,
    display_pair_1_lottery_end_red_games5,


    //Display correct lottery ending card depending on game index
    display_pair_1_end_green_card_1_games0,
    display_pair_1_end_green_card_1_games1,
    display_pair_1_end_green_card_1_games2,
    display_pair_1_end_red_card_2_games3,
    display_pair_1_end_red_card_2_games4,
    display_pair_1_end_red_card_2_games5,


    //Display the correct card (1 or 2) to add to count depending on game index
    display_pair_1_card_1_games0,
    display_pair_1_card_1_games1,
    display_pair_1_card_1_games2,
    display_pair_1_card_2_games3,
    display_pair_1_card_2_games4,
    display_pair_1_card_2_games5,


    //Display the correct count to add depending on game index
    display_count_pair_1_card_1_games0,
    display_count_pair_1_card_1_games1,
    display_count_pair_1_card_1_games2,
    display_count_pair_1_card_2_games3,
    display_count_pair_1_card_2_games4,
    display_count_pair_1_card_2_games5,

    // *******************************************************
    // ******************** PAIR 2 ***************************
    // *******************************************************


    //Display round information
    display_round_2,


    //Display deck with pair 2 count
    display_pair_2_deck_games0,
    display_pair_2_deck_games1,
    display_pair_2_deck_games2,
    display_pair_2_deck_games3,
    display_pair_2_deck_games4,
    display_pair_2_deck_games5,

    //Display back of cards
    //display_cards_back,


    //Display shuffling animation
    shuffle,


    //Display initial pair 2
    display_pair_2_count_games0,
    display_pair_2_count_games1,
    display_pair_2_count_games2,
    display_pair_2_count_games3,
    display_pair_2_count_games4,
    display_pair_2_count_games5,



    //OR display the clicking on card or lottery here start here
    display_pair_2_click_card_high_games0,
    display_pair_2_click_card_high_games1,
    display_pair_2_click_card_high_games2,
    display_pair_2_click_card_high_games3,
    display_pair_2_click_card_high_games4,
    display_pair_2_click_card_high_games5,

    display_pair_2_click_card_low_games0,
    display_pair_2_click_card_low_games1,
    display_pair_2_click_card_low_games2,
    display_pair_2_click_card_low_games3,
    display_pair_2_click_card_low_games4,
    display_pair_2_click_card_low_games5,


  //Display initial pair 2 with key press
    display_pair_2_count_with_key_games0,
    display_pair_2_count_with_key_games1,
    display_pair_2_count_with_key_games2,
    display_pair_2_count_with_key_games3,
    display_pair_2_count_with_key_games4,
    display_pair_2_count_with_key_games5,

    //Display correct card and lottery color depending on game index
    display_pair_2_lottery_end_green_games0,
    display_pair_2_lottery_end_green_games1,
    display_pair_2_lottery_end_red_games2,
    display_pair_2_lottery_end_red_games3,
    display_pair_2_lottery_end_red_games4,
    display_pair_2_lottery_end_green_games5,

   
    //Display correct lottery ending card depending on game index
    display_pair_2_end_green_card_1_games0,
    display_pair_2_end_green_card_1_games1,
    display_pair_2_end_red_card_2_games2,
    display_pair_2_end_red_card_2_games3,
    display_pair_2_end_red_card_2_games4,
    display_pair_2_end_green_card_1_games5,


    //Display the correct card (1 or 2) to add to count depending on game index
    display_pair_2_card_1_games0,
    display_pair_2_card_1_games1,
    display_pair_2_card_2_games2,
    display_pair_2_card_2_games3,
    display_pair_2_card_2_games4,
    display_pair_2_card_1_games5,


    //Display the correct count to add depending on game index
    display_count_pair_2_card_1_games0,
    display_count_pair_2_card_1_games1,
    display_count_pair_2_card_2_games2,
    display_count_pair_2_card_2_games3,
    display_count_pair_2_card_2_games4,
    display_count_pair_2_card_1_games5,



    // *******************************************************
    // ******************** PAIR 3 ***************************
    // *******************************************************


    //Display round information 
    display_round_3,
    

    //Display deck with pair 3 count
    display_pair_3_deck_games0,
    display_pair_3_deck_games1,
    display_pair_3_deck_games2,
    display_pair_3_deck_games3,
    display_pair_3_deck_games4,
    display_pair_3_deck_games5,


    //Display card back
    //display_cards_back,


    //Display shuffling animation
    shuffle,


    //Display pair 3 with count
    display_pair_3_count_games0,
    display_pair_3_count_games1,
    display_pair_3_count_games2,
    display_pair_3_count_games3,
    display_pair_3_count_games4,
    display_pair_3_count_games5,




    //OR display the clicking on card or lottery here start here
    display_pair_3_click_card_high_games0,
    display_pair_3_click_card_high_games1,
    display_pair_3_click_card_high_games2,
    display_pair_3_click_card_high_games3,
    display_pair_3_click_card_high_games4,
    display_pair_3_click_card_high_games5,

    display_pair_3_click_card_low_games0,
    display_pair_3_click_card_low_games1,
    display_pair_3_click_card_low_games2,
    display_pair_3_click_card_low_games3,
    display_pair_3_click_card_low_games4,
    display_pair_3_click_card_low_games5,


    //Display initial pair 3 with key press
    display_pair_3_count_with_key_games0,
    display_pair_3_count_with_key_games1,
    display_pair_3_count_with_key_games2,
    display_pair_3_count_with_key_games3,
    display_pair_3_count_with_key_games4,
    display_pair_3_count_with_key_games5,


    //Display correct lottery alternation depending on game index
    display_pair_3_lottery_end_green_games0,
    display_pair_3_lottery_end_red_games1,
    display_pair_3_lottery_end_red_games2,
    display_pair_3_lottery_end_red_games3,
    display_pair_3_lottery_end_green_games4,
    display_pair_3_lottery_end_green_games5,


    //Display correct lottery ending card depending on game index
    display_pair_3_end_green_card_1_games0,
    display_pair_3_end_red_card_2_games1,
    display_pair_3_end_red_card_2_games2,
    display_pair_3_end_red_card_2_games3,
    display_pair_3_end_green_card_1_games4,
    display_pair_3_end_green_card_1_games5,


    //Display the correct card (1 or 2) to add to count depending on game index
    display_pair_3_card_1_games0,
    display_pair_3_card_2_games1,
    display_pair_3_card_2_games2,
    display_pair_3_card_2_games3,
    display_pair_3_card_1_games4,
    display_pair_3_card_1_games5,


    //Display final count based on game index
    display_count_pair_3_card_1_games0,
    display_count_pair_3_card_2_games1,
    display_count_pair_3_card_2_games2,
    display_count_pair_3_card_2_games3,
    display_count_pair_3_card_1_games4,
    display_count_pair_3_card_1_games5,



    // *******************************************************
    // ******************** PAIR 4 ***************************
    // *******************************************************

    //Display round information 
    display_round_4,
    

    //Display deck with pair 4 count
    display_pair_4_deck_games0,
    display_pair_4_deck_games1,
    display_pair_4_deck_games2,
    display_pair_4_deck_games3,
    display_pair_4_deck_games4,
    display_pair_4_deck_games5,



    //Display card back
    //display_cards_back,


    //Display shuffling animation
    shuffle,


    //Display pair 4 with count
    display_pair_4_count_games0,
    display_pair_4_count_games1,
    display_pair_4_count_games2,
    display_pair_4_count_games3,
    display_pair_4_count_games4,
    display_pair_4_count_games5,




    //Display the clicking on card high or low
    display_pair_4_click_card_high_games0,
    display_pair_4_click_card_high_games1,
    display_pair_4_click_card_high_games2,
    display_pair_4_click_card_high_games3,
    display_pair_4_click_card_high_games4,
    display_pair_4_click_card_high_games5,

    display_pair_4_click_card_low_games0,
    display_pair_4_click_card_low_games1,
    display_pair_4_click_card_low_games2,
    display_pair_4_click_card_low_games3,
    display_pair_4_click_card_low_games4,
    display_pair_4_click_card_low_games5,


    //Display initial pair 4 with key press to start lottery
    display_pair_4_count_with_key_games0,
    display_pair_4_count_with_key_games1,
    display_pair_4_count_with_key_games2,
    display_pair_4_count_with_key_games3,
    display_pair_4_count_with_key_games4,
    display_pair_4_count_with_key_games5,


    //Display correct lottery alternation depending on game index
    display_pair_4_lottery_end_red_games0,
    display_pair_4_lottery_end_red_games1,
    display_pair_4_lottery_end_green_games2,
    display_pair_4_lottery_end_green_games3,
    display_pair_4_lottery_end_green_games4,
    display_pair_4_lottery_end_red_games5,


    //Display correct lottery ending card depending on game index
    display_pair_4_end_red_card_2_games0,
    display_pair_4_end_red_card_2_games1,
    display_pair_4_end_green_card_1_games2,
    display_pair_4_end_green_card_1_games3,
    display_pair_4_end_green_card_1_games4,
    display_pair_4_end_red_card_2_games5,


    //Display the correct card (1 or 2) to add to count depending on game index
    display_pair_4_card_2_games0,
    display_pair_4_card_2_games1,
    display_pair_4_card_1_games2,
    display_pair_4_card_1_games3,
    display_pair_4_card_1_games4,
    display_pair_4_card_2_games5,


    //Display final count based on game index
    display_count_pair_4_card_2_games0,
    display_count_pair_4_card_2_games1,
    display_count_pair_4_card_1_games2,
    display_count_pair_4_card_1_games3,
    display_count_pair_4_card_1_games4,
    display_count_pair_4_card_2_games5,




    // *******************************************************
    // ******************** PAIR 5 ***************************
    // *******************************************************

    //Display round information 
    display_round_5,
    

    //Display deck with pair 5 count
    display_pair_5_deck_games0,
    display_pair_5_deck_games1,
    display_pair_5_deck_games2,
    display_pair_5_deck_games3,
    display_pair_5_deck_games4,
    display_pair_5_deck_games5,



    //Display card back
    //display_cards_back,


    //Display shuffling animation
    shuffle,


    //Display pair 5 with count
    display_pair_5_count_games0,
    display_pair_5_count_games1,
    display_pair_5_count_games2,
    display_pair_5_count_games3,
    display_pair_5_count_games4,
    display_pair_5_count_games5,



    //Display the clicking on card high or low
    display_pair_5_click_card_high_games0,
    display_pair_5_click_card_high_games1,
    display_pair_5_click_card_high_games2,
    display_pair_5_click_card_high_games3,
    display_pair_5_click_card_high_games4,
    display_pair_5_click_card_high_games5,

    display_pair_5_click_card_low_games0,
    display_pair_5_click_card_low_games1,
    display_pair_5_click_card_low_games2,
    display_pair_5_click_card_low_games3,
    display_pair_5_click_card_low_games4,
    display_pair_5_click_card_low_games5,


    //Display initial pair 4 with key press to start lottery
    display_pair_5_count_with_key_games0,
    display_pair_5_count_with_key_games1,
    display_pair_5_count_with_key_games2,
    display_pair_5_count_with_key_games3,
    display_pair_5_count_with_key_games4,
    display_pair_5_count_with_key_games5,


    //Display correct lottery alternation depending on game index
    display_pair_5_lottery_end_red_games0,
    display_pair_5_lottery_end_green_games1,
    display_pair_5_lottery_end_red_games2,
    display_pair_5_lottery_end_green_games3,
    display_pair_5_lottery_end_red_games4,
    display_pair_5_lottery_end_green_games5,


    //Display correct lottery ending card depending on game index
    display_pair_5_end_red_card_2_games0,
    display_pair_5_end_green_card_1_games1,
    display_pair_5_end_red_card_2_games2,
    display_pair_5_end_green_card_1_games3,
    display_pair_5_end_red_card_2_games4,
    display_pair_5_end_green_card_1_games5,


    //Display the correct card (1 or 2) to add to count depending on game index
    display_pair_5_card_2_games0,
    display_pair_5_card_1_games1,
    display_pair_5_card_2_games2,
    display_pair_5_card_1_games3,
    display_pair_5_card_2_games4,
    display_pair_5_card_1_games5,


    //Display final count based on game index
    display_count_pair_5_card_2_games0,
    display_count_pair_5_card_1_games1,
    display_count_pair_5_card_2_games2,
    display_count_pair_5_card_1_games3,
    display_count_pair_5_card_2_games4,
    display_count_pair_5_card_1_games5,


    //Display sat_slider
    display_sat_slider,


    won,
    lost,
  


    //Display catch trials
    //pair 1 for games0, pair 2 for games 1, pair 3 for games 2, pair 1 for games 3, pair 2 for games 4, pair 3 for games 5
    display_pair_1_catch_seen_games0,
    display_pair_2_catch_seen_games1,
    display_pair_3_catch_seen_games2,
    display_pair_1_catch_seen_games3,
    display_pair_2_catch_seen_games4,
    display_pair_3_catch_seen_games5,

    end_of_trial,

  
],

repetitions: 18

}


if (rating_selected == 0) {
    timeline.push(general_instructions, susp_instructions, timeline_procedure_susp, ratingSaving)
}

else if (rating_selected == 1) {
    timeline.push(general_instructions, sat_instructions, timeline_sat_test, timeline_procedure_sat, ratingSaving)

}




//Start the experiment

        jatos.onLoad(() => {
            jsPsych.run(timeline);
        });

    </script>

    </html>